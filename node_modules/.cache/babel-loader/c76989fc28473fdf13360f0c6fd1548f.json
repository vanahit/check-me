{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\Gohar\\\\Desktop\\\\testing-project\\\\testing-project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"C:\\\\Users\\\\Gohar\\\\Desktop\\\\testing-project\\\\testing-project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Gohar\\\\Desktop\\\\testing-project\\\\testing-project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Gohar\\\\Desktop\\\\testing-project\\\\testing-project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Gohar\\\\Desktop\\\\testing-project\\\\testing-project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Gohar\\\\Desktop\\\\testing-project\\\\testing-project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _taggedTemplateLiteral from \"C:\\\\Users\\\\Gohar\\\\Desktop\\\\testing-project\\\\testing-project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"C:\\\\Users\\\\Gohar\\\\Desktop\\\\testing-project\\\\testing-project\\\\src\\\\components\\\\OneTestComponent\\\\TestRender.js\";\n\nfunction _templateObject11() {\n  var data = _taggedTemplateLiteral([\"\\n\\tmargin-top: 8px;\\n\\tdisplay: block;\\n\\tfont-size: 18px;\\n\\ttext-decoration: underline;\\n\\tcolor: rgba(2, 134, 205, 1);\\n\\t: hover {\\n\\t\\tcursor: pointer;\\n\\t\\t\\n\\t} \\n\"]);\n\n  _templateObject11 = function _templateObject11() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject10() {\n  var data = _taggedTemplateLiteral([\"\\n\\tmargin: 16px;\\n\\ttext-align: right;\\n\"]);\n\n  _templateObject10 = function _templateObject10() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject9() {\n  var data = _taggedTemplateLiteral([\"\\n\\tmargin: 0;\\n\\tmargin-bottom: 8px;\\n\\twidth: 100%;\\n\\theight: 100%;\\n\\tbox-sizing: border-box;\\n\"]);\n\n  _templateObject9 = function _templateObject9() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject8() {\n  var data = _taggedTemplateLiteral([\"\\n    padding: 10px 15px;\\n    border: 0;\\n    border-radius: 4px;\\n    background-color: \", \";\\n\\tcolor: white;\\n\\tbox-shadow: 0px 3px 6px rgba(0, 0, 0, 0.16);\\n    font-weight: bold;\\n    font-size: 20px;\\n\\tbox-sizing: border-box;\\n\\t: hover {\\n\\t\\tcursor: \", \"\\n\\t}\\n\"]);\n\n  _templateObject8 = function _templateObject8() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject7() {\n  var data = _taggedTemplateLiteral([\"\\n\\tfont-size: 16px;\\t\\n\\tcolor: black;\\n\\tmargin-bottom: 8px;\\n\"]);\n\n  _templateObject7 = function _templateObject7() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject6() {\n  var data = _taggedTemplateLiteral([\"\\n\\tmargin-top: 8px;\\n\\tdisplay: block;\\n\\tfont-size: 18px;\\n\\ttext-decoration: underline;\\n\\tcolor: rgba(2, 134, 205, 1);\\n\\t: hover {\\n\\t\\tcursor: pointer;\\n\\t\\n}\\n\"]);\n\n  _templateObject6 = function _templateObject6() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject5() {\n  var data = _taggedTemplateLiteral([\"\\n\\ttext-decoration: none;\\n\\tfont-size: 16px;\\n\\tcolor: #4F9DA6;\\n\\tmargin-bottom: 8px;\\n\"]);\n\n  _templateObject5 = function _templateObject5() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject4() {\n  var data = _taggedTemplateLiteral([\"\\n\\tfont-size: 16px;\\n\\tcolor: #FFAD5A;\\n\\tfont-weight: bold;\\n\\tmargin-bottom: 8px;\\n\"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n\\tfont-size: 16px;\\n\\tcolor: #4F9DA6;\\n\\tfont-weight: bold;\\n\\tmargin-bottom: 8px;\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n\\tpadding: 0 16px;\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n\\tposition: relative;\\n\\ttext-decoration: none;\\n\\tdisplay: block;\\n\\twidth: 100%;\\n\\tborder: 1px solid rgba(220, 220, 220, 1);\\n\\tborder-radius: 4px;\\n\\tbox-shadow: 0px 3px 6px rgba(0, 0, 0, 0.16);\\n\\tbox-sizing: border-box;\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { Component } from 'react';\nimport styled from 'styled-components';\nimport js_svg from \"../../images/typeIcons/js.svg\";\nimport cplus_svg from \"../../images/typeIcons/cplus.svg\";\nimport php_svg from \"../../images/typeIcons/php.svg\";\nimport react_svg from \"../../images/typeIcons/react.svg\";\nimport css_svg from \"../../images/typeIcons/css.svg\";\nimport sharp_svg from \"../../images/typeIcons/csharp.svg\";\nimport non_svg from \"../../images/typeIcons/non-type.svg\";\nimport html_svg from \"../../images/typeIcons/html.svg\";\nimport { connect } from 'react-redux';\nimport { addUserTest as _addUserTest } from '../../store/actions/appAction';\nimport { firebase } from '../../firebase/firebase';\nimport { NavLink, Route } from \"react-router-dom\";\nimport { addTest as _addTest } from '../../store/actions/testPasser';\nimport TestPassPanel from '../TestPassPanel/TestPassPanel';\nvar TestBlock = styled.div(_templateObject());\nvar Details = styled.div(_templateObject2());\nvar TestTitle = styled.div(_templateObject3());\nvar Company = styled.div(_templateObject4());\nvar Data = styled.span(_templateObject5());\nvar PassersLink = styled(NavLink)(_templateObject6());\nvar DataTitle = styled.div(_templateObject7());\nvar Button = styled.button(_templateObject8(), function (props) {\n  return props.color || 'rgba(255, 89, 89, 1)';\n}, function (props) {\n  return props.disabled ? '' : 'pointer';\n});\nvar Img = styled.img(_templateObject9());\nvar ButtonRight = styled.div(_templateObject10());\nvar DetailsLink = styled(NavLink)(_templateObject11());\n\nvar TestComponent =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(TestComponent, _Component);\n\n  function TestComponent() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, TestComponent);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(TestComponent)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      testExists: false,\n      test: _this.props.user.tests\n    };\n\n    _this.convertDate = function (date) {\n      var today = new Date(date);\n      var dd = today.getDate();\n      var mm = today.getMonth() + 1;\n      var yyyy = today.getFullYear();\n\n      if (dd < 10) {\n        dd = '0' + dd;\n      }\n\n      if (mm < 10) {\n        mm = '0' + mm;\n      }\n\n      return today = dd + '/' + mm + '/' + yyyy;\n    };\n\n    _this.chooseImg = function () {\n      switch (_this.props.test.testType) {\n        case 'JavaScript':\n          return js_svg;\n\n        case 'PHP':\n          return php_svg;\n\n        case 'C#':\n          return sharp_svg;\n\n        case 'React':\n          return react_svg;\n\n        case 'HTML':\n          return html_svg;\n\n        case 'CSS':\n          return css_svg;\n\n        case 'C++':\n          return cplus_svg;\n\n        default:\n          return non_svg;\n      }\n    };\n\n    _this.add = function (test) {\n      if (_this.props.user && _this.props.user.type === 'user') {\n        var userUrl = _this.props.user.id;\n        firebase.database().ref(\"user/\".concat(_this.props.user.id, \"/tests\")).once('value', function (snapshot) {\n          if (snapshot.hasChild(\"\".concat(test.id))) {} else {\n            _this.props.userTestAdded();\n\n            _this.props.addUserTest(test);\n\n            var userRef = firebase.database().ref(\"user/\".concat(userUrl));\n            userRef.child('tests').child(\"\".concat(test.id)).set(_objectSpread({}, test, {\n              userScore: -1\n            }));\n          }\n        });\n      } else {\n        _this.props.testAddClicked();\n      }\n    };\n\n    _this.checkIfAdded = function (test) {\n      if (_this.props.user && _this.props.user.tests) {\n        for (var i = 0; i < _this.props.user.tests.length; i++) {\n          if (test.id === _this.props.user.tests[i].id) {\n            if (_this.props.user.tests[i].userScore < 0) {\n              return 'added';\n            } else {\n              return 'passed';\n            }\n          }\n        }\n\n        return false;\n      }\n    };\n\n    _this.startTest = function (testId) {\n      var test = _this.props.user.tests.filter(function (test) {\n        return test.id === testId;\n      });\n\n      var testObj = test[0];\n      new Promise(function (resolve) {\n        _this.props.addTest(testObj);\n\n        _this.setState({\n          test: testObj\n        });\n\n        resolve(_this.state.test);\n      }).then(function (test) {\n        console.log(_this.state.test.questions);\n\n        _this.setState({\n          started: true\n        });\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(TestComponent, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var test = this.props.test;\n      return React.createElement(React.Fragment, null, React.createElement(TestBlock, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202\n        },\n        __self: this\n      }, React.createElement(Img, {\n        src: this.chooseImg(),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203\n        },\n        __self: this\n      }), React.createElement(Details, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204\n        },\n        __self: this\n      }, React.createElement(TestTitle, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205\n        },\n        __self: this\n      }, test.testTitle), React.createElement(Company, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208\n        },\n        __self: this\n      }, test.company), React.createElement(DataTitle, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211\n        },\n        __self: this\n      }, \"Deadline:\", ' ', React.createElement(Data, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213\n        },\n        __self: this\n      }, this.convertDate(test.testDeadline)), React.createElement(PassersLink, {\n        to: \"/\".concat(test.company, \"/test\").concat(test.id, \"/passers\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216\n        },\n        __self: this\n      }, \"Passes: \", ' ', test.passers ? test.passers.length : 0), React.createElement(DetailsLink, {\n        to: \"/test-info-page/\".concat(test.id),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225\n        },\n        __self: this\n      }, \"View Details\")))), React.createElement(ButtonRight, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 230\n        },\n        __self: this\n      }, this.props.user && this.props.user.type !== 'company' || !this.props.user ? React.createElement(React.Fragment, null, !this.checkIfAdded(test) && React.createElement(Button, {\n        onClick: function onClick() {\n          return _this2.add(test);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236\n        },\n        __self: this\n      }, \"Add test >\"), this.checkIfAdded(test) === 'added' && React.createElement(NavLink, {\n        to: \"/passing-test/\".concat(test.id),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 243\n        },\n        __self: this\n      }, React.createElement(Button, {\n        color: '#FFAD5A',\n        onClick: function onClick() {\n          return _this2.startTest(test.id);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244\n        },\n        __self: this\n      }, \"Pass test >\")), this.checkIfAdded(test) === 'passed' && React.createElement(Button, {\n        color: '#4F9DA6',\n        disabled: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 255\n        },\n        __self: this\n      }, \"Passed\")) : \"\")), React.createElement(Route, {\n        path: \"/passing-test/\".concat(test.id),\n        component: function component() {\n          return React.createElement(TestPassPanel, {\n            user: _this2.state.user,\n            test: _this2.state.test,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 271\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 269\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return TestComponent;\n}(Component);\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    addUserTest: function addUserTest(test) {\n      return dispatch(_addUserTest(test));\n    },\n    addTest: function addTest(test) {\n      return dispatch(_addTest(test));\n    }\n  };\n}\n\nexport default connect(null, mapDispatchToProps)(TestComponent);","map":{"version":3,"sources":["C:\\Users\\Gohar\\Desktop\\testing-project\\testing-project\\src\\components\\OneTestComponent\\TestRender.js"],"names":["React","Component","styled","connect","addUserTest","firebase","NavLink","Route","addTest","TestPassPanel","TestBlock","div","Details","TestTitle","Company","Data","span","PassersLink","DataTitle","Button","button","props","color","disabled","Img","img","ButtonRight","DetailsLink","TestComponent","state","testExists","test","user","tests","convertDate","date","today","Date","dd","getDate","mm","getMonth","yyyy","getFullYear","chooseImg","testType","js_svg","php_svg","sharp_svg","react_svg","html_svg","css_svg","cplus_svg","non_svg","add","type","userUrl","id","database","ref","once","snapshot","hasChild","userTestAdded","userRef","child","set","userScore","testAddClicked","checkIfAdded","i","length","startTest","testId","filter","testObj","Promise","resolve","setState","then","console","log","questions","started","testTitle","company","testDeadline","passers","mapDispatchToProps","dispatch"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,MAAP,MAAmB,mBAAnB;;;;;;;;;AASA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,WAAW,IAAXA,YAAT,QAA4B,+BAA5B;AACA,SAASC,QAAT,QAAyB,yBAAzB;AACA,SAASC,OAAT,EAAkBC,KAAlB,QAA+B,kBAA/B;AACA,SAASC,OAAO,IAAPA,QAAT,QAAwB,gCAAxB;AACA,OAAOC,aAAP,MAA0B,gCAA1B;AAEA,IAAMC,SAAS,GAAGR,MAAM,CAACS,GAAV,mBAAf;AAWA,IAAMC,OAAO,GAAGV,MAAM,CAACS,GAAV,oBAAb;AAIA,IAAME,SAAS,GAAGX,MAAM,CAACS,GAAV,oBAAf;AAOA,IAAMG,OAAO,GAAGZ,MAAM,CAACS,GAAV,oBAAb;AAOA,IAAMI,IAAI,GAAGb,MAAM,CAACc,IAAV,oBAAV;AAMA,IAAMC,WAAW,GAAGf,MAAM,CAACI,OAAD,CAAT,oBAAjB;AAWA,IAAMY,SAAS,GAAGhB,MAAM,CAACS,GAAV,oBAAf;AAMA,IAAMQ,MAAM,GAAGjB,MAAM,CAACkB,MAAV,qBAIY,UAAAC,KAAK;AAAA,SAAIA,KAAK,CAACC,KAAN,IAAe,sBAAnB;AAAA,CAJjB,EAWA,UAAAD,KAAK;AAAA,SAAIA,KAAK,CAACE,QAAN,GAAiB,EAAjB,GAAuB,SAA3B;AAAA,CAXL,CAAZ;AAcA,IAAMC,GAAG,GAAGtB,MAAM,CAACuB,GAAV,oBAAT;AAOA,IAAMC,WAAW,GAAGxB,MAAM,CAACS,GAAV,qBAAjB;AAIA,IAAMgB,WAAW,GAAGzB,MAAM,CAACI,OAAD,CAAT,qBAAjB;;IAaMsB,a;;;;;;;;;;;;;;;;;UACLC,K,GAAQ;AACPC,MAAAA,UAAU,EAAE,KADL;AAEPC,MAAAA,IAAI,EAAE,MAAKV,KAAL,CAAWW,IAAX,CAAgBC;AAFf,K;;UAKRC,W,GAAc,UAACC,IAAD,EAAU;AACvB,UAAIC,KAAK,GAAG,IAAIC,IAAJ,CAASF,IAAT,CAAZ;AACA,UAAIG,EAAE,GAAGF,KAAK,CAACG,OAAN,EAAT;AACA,UAAIC,EAAE,GAAGJ,KAAK,CAACK,QAAN,KAAmB,CAA5B;AACA,UAAIC,IAAI,GAAGN,KAAK,CAACO,WAAN,EAAX;;AAEA,UAAIL,EAAE,GAAG,EAAT,EAAa;AACZA,QAAAA,EAAE,GAAG,MAAMA,EAAX;AACA;;AAED,UAAIE,EAAE,GAAG,EAAT,EAAa;AACZA,QAAAA,EAAE,GAAG,MAAMA,EAAX;AACA;;AACD,aAAOJ,KAAK,GAAGE,EAAE,GAAG,GAAL,GAAWE,EAAX,GAAgB,GAAhB,GAAsBE,IAArC;AACA,K;;UAEDE,S,GAAY,YAAM;AACjB,cAAQ,MAAKvB,KAAL,CAAWU,IAAX,CAAgBc,QAAxB;AACC,aAAK,YAAL;AACC,iBAAOC,MAAP;;AACD,aAAK,KAAL;AACC,iBAAOC,OAAP;;AACD,aAAK,IAAL;AACC,iBAAOC,SAAP;;AACD,aAAK,OAAL;AACC,iBAAOC,SAAP;;AACD,aAAK,MAAL;AACC,iBAAOC,QAAP;;AACD,aAAK,KAAL;AACC,iBAAOC,OAAP;;AACD,aAAK,KAAL;AACC,iBAAOC,SAAP;;AACD;AACC,iBAAOC,OAAP;AAhBF;AAkBA,K;;UAGDC,G,GAAM,UAACvB,IAAD,EAAU;AACf,UAAI,MAAKV,KAAL,CAAWW,IAAX,IAAmB,MAAKX,KAAL,CAAWW,IAAX,CAAgBuB,IAAhB,KAAyB,MAAhD,EAAwD;AACvD,YAAIC,OAAO,GAAG,MAAKnC,KAAL,CAAWW,IAAX,CAAgByB,EAA9B;AACApD,QAAAA,QAAQ,CAACqD,QAAT,GAAoBC,GAApB,gBAAgC,MAAKtC,KAAL,CAAWW,IAAX,CAAgByB,EAAhD,aAA4DG,IAA5D,CAAiE,OAAjE,EAA0E,UAACC,QAAD,EAAc;AACvF,cAAIA,QAAQ,CAACC,QAAT,WAAqB/B,IAAI,CAAC0B,EAA1B,EAAJ,EAAqC,CAEpC,CAFD,MAEO;AACN,kBAAKpC,KAAL,CAAW0C,aAAX;;AACA,kBAAK1C,KAAL,CAAWjB,WAAX,CAAuB2B,IAAvB;;AACA,gBAAIiC,OAAO,GAAG3D,QAAQ,CAACqD,QAAT,GAAoBC,GAApB,gBAAgCH,OAAhC,EAAd;AACAQ,YAAAA,OAAO,CAACC,KAAR,CAAc,OAAd,EAAuBA,KAAvB,WAAgClC,IAAI,CAAC0B,EAArC,GAA2CS,GAA3C,mBAAoDnC,IAApD;AAA0DoC,cAAAA,SAAS,EAAE,CAAC;AAAtE;AACA;AACD,SATD;AAUA,OAZD,MAYO;AACN,cAAK9C,KAAL,CAAW+C,cAAX;AACA;AACD,K;;UAEDC,Y,GAAe,UAACtC,IAAD,EAAU;AACxB,UAAI,MAAKV,KAAL,CAAWW,IAAX,IAAmB,MAAKX,KAAL,CAAWW,IAAX,CAAgBC,KAAvC,EAA8C;AAC7C,aAAK,IAAIqC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,MAAKjD,KAAL,CAAWW,IAAX,CAAgBC,KAAhB,CAAsBsC,MAA1C,EAAkDD,CAAC,EAAnD,EAAuD;AACtD,cAAIvC,IAAI,CAAC0B,EAAL,KAAY,MAAKpC,KAAL,CAAWW,IAAX,CAAgBC,KAAhB,CAAsBqC,CAAtB,EAAyBb,EAAzC,EAA6C;AAC7B,gBAAI,MAAKpC,KAAL,CAAWW,IAAX,CAAgBC,KAAhB,CAAsBqC,CAAtB,EAAyBH,SAAzB,GAAqC,CAAzC,EAA6C;AACzC,qBAAO,OAAP;AACH,aAFD,MAEO;AACH,qBAAO,QAAP;AACH;AAChB;AACQ;;AAEV,eAAO,KAAP;AACA;AACD,K;;UACDK,S,GAAY,UAACC,MAAD,EAAY;AACjB,UAAI1C,IAAI,GAAG,MAAKV,KAAL,CAAWW,IAAX,CAAgBC,KAAhB,CAAsByC,MAAtB,CAA6B,UAAA3C,IAAI;AAAA,eAAIA,IAAI,CAAC0B,EAAL,KAAYgB,MAAhB;AAAA,OAAjC,CAAX;;AACA,UAAIE,OAAO,GAAG5C,IAAI,CAAC,CAAD,CAAlB;AACA,UAAI6C,OAAJ,CAAY,UAACC,OAAD,EAAa;AACrB,cAAKxD,KAAL,CAAWb,OAAX,CAAmBmE,OAAnB;;AACA,cAAKG,QAAL,CAAc;AAAC/C,UAAAA,IAAI,EAAE4C;AAAP,SAAd;;AACAE,QAAAA,OAAO,CAAC,MAAKhD,KAAL,CAAWE,IAAZ,CAAP;AACH,OAJD,EAIGgD,IAJH,CAIQ,UAAAhD,IAAI,EAAI;AACZiD,QAAAA,OAAO,CAACC,GAAR,CAAY,MAAKpD,KAAL,CAAWE,IAAX,CAAgBmD,SAA5B;;AACA,cAAKJ,QAAL,CAAc;AAACK,UAAAA,OAAO,EAAE;AAAV,SAAd;AACH,OAPD;AASH,K;;;;;;;6BACK;AAAA;;AACR,UAAIpD,IAAI,GAAG,KAAKV,KAAL,CAAWU,IAAtB;AACA,aACC,0CACC,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC,oBAAC,GAAD;AAAK,QAAA,GAAG,EAAE,KAAKa,SAAL,EAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADD,EAEC,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACEb,IAAI,CAACqD,SADP,CADD,EAIC,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACErD,IAAI,CAACsD,OADP,CAJD,EAOC,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACW,GADX,EAEC,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,KAAKnD,WAAL,CAAiBH,IAAI,CAACuD,YAAtB,CADF,CAFD,EAKC,oBAAC,WAAD;AAAa,QAAA,EAAE,aAAMvD,IAAI,CAACsD,OAAX,kBAA0BtD,IAAI,CAAC0B,EAA/B,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAES,GAFT,EAIE1B,IAAI,CAACwD,OAAL,GAAexD,IAAI,CAACwD,OAAL,CAAahB,MAA5B,GAAqC,CAJvC,CALD,EAaC,oBAAC,WAAD;AAAa,QAAA,EAAE,4BAAqBxC,IAAI,CAAC0B,EAA1B,CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADD,CAbD,CAPD,CAFD,EA4BC,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAG4B,KAAKpC,KAAL,CAAWW,IAAX,IAAmB,KAAKX,KAAL,CAAWW,IAAX,CAAgBuB,IAAhB,KAAyB,SAA7C,IAA2D,CAAC,KAAKlC,KAAL,CAAWW,IAAvE,GACI,0CACK,CAAC,KAAKqC,YAAL,CAAkBtC,IAAlB,CAAD,IACG,oBAAC,MAAD;AACI,QAAA,OAAO,EAAE;AAAA,iBAAM,MAAI,CAACuB,GAAL,CAAUvB,IAAV,CAAN;AAAA,SADb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAFR,EAQI,KAAKsC,YAAL,CAAkBtC,IAAlB,MAA4B,OAA5B,IACA,oBAAC,OAAD;AAAS,QAAA,EAAE,0BAAqBA,IAAI,CAAC0B,EAA1B,CAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,MAAD;AACI,QAAA,KAAK,EAAE,SADX;AAEI,QAAA,OAAO,EAAE;AAAA,iBAAM,MAAI,CAACe,SAAL,CAAezC,IAAI,CAAC0B,EAApB,CAAN;AAAA,SAFb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADJ,CATJ,EAmB1B,KAAKY,YAAL,CAAkBtC,IAAlB,MAA4B,QAA5B,IAEO,oBAAC,MAAD;AAC+B,QAAA,KAAK,EAAE,SADtC;AAE+B,QAAA,QAAQ,MAFvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBArBmB,CADJ,GAgCM,EAnCjC,CA5BD,CADD,EAoEC,oBAAC,KAAD;AACgB,QAAA,IAAI,0BAAmBA,IAAI,CAAC0B,EAAxB,CADpB;AACkD,QAAA,SAAS,EAAE;AAAA,iBAC7C,oBAAC,aAAD;AAAgB,YAAA,IAAI,EAAE,MAAI,CAAC5B,KAAL,CAAWG,IAAjC;AAAwC,YAAA,IAAI,EAAE,MAAI,CAACH,KAAL,CAAWE,IAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAD6C;AAAA,SAD7D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QApED,CADD;AA0EA;;;;EAtK0B9B,S;;AAyK5B,SAASuF,kBAAT,CAA4BC,QAA5B,EAAsC;AACrC,SAAO;AACNrF,IAAAA,WAAW,EAAE,qBAAA2B,IAAI;AAAA,aAAI0D,QAAQ,CAACrF,YAAW,CAAC2B,IAAD,CAAZ,CAAZ;AAAA,KADX;AAENvB,IAAAA,OAAO,EAAE,iBAAAuB,IAAI;AAAA,aAAI0D,QAAQ,CAACjF,QAAO,CAACuB,IAAD,CAAR,CAAZ;AAAA;AAFP,GAAP;AAIA;;AAED,eAAe5B,OAAO,CAAC,IAAD,EAAOqF,kBAAP,CAAP,CAAkC5D,aAAlC,CAAf","sourcesContent":["import React, { Component } from 'react';\r\nimport styled from 'styled-components'\r\nimport js_svg from '../../images/typeIcons/js.svg';\r\nimport cplus_svg from '../../images/typeIcons/cplus.svg';\r\nimport php_svg from '../../images/typeIcons/php.svg';\r\nimport react_svg from '../../images/typeIcons/react.svg';\r\nimport css_svg from '../../images/typeIcons/css.svg';\r\nimport sharp_svg from '../../images/typeIcons/csharp.svg';\r\nimport non_svg from '../../images/typeIcons/non-type.svg';\r\nimport html_svg from '../../images/typeIcons/html.svg';\r\nimport { connect } from 'react-redux';\r\nimport { addUserTest } from '../../store/actions/appAction';\r\nimport { firebase } from '../../firebase/firebase';\r\nimport { NavLink, Route } from \"react-router-dom\";\r\nimport { addTest } from '../../store/actions/testPasser';\r\nimport TestPassPanel from '../TestPassPanel/TestPassPanel';\r\n\r\nconst TestBlock = styled.div`\r\n\tposition: relative;\r\n\ttext-decoration: none;\r\n\tdisplay: block;\r\n\twidth: 100%;\r\n\tborder: 1px solid rgba(220, 220, 220, 1);\r\n\tborder-radius: 4px;\r\n\tbox-shadow: 0px 3px 6px rgba(0, 0, 0, 0.16);\r\n\tbox-sizing: border-box;\r\n`;\r\n\r\nconst Details = styled.div`\r\n\tpadding: 0 16px;\r\n`;\r\n\r\nconst TestTitle = styled.div`\r\n\tfont-size: 16px;\r\n\tcolor: #4F9DA6;\r\n\tfont-weight: bold;\r\n\tmargin-bottom: 8px;\r\n`;\r\n\r\nconst Company = styled.div`\r\n\tfont-size: 16px;\r\n\tcolor: #FFAD5A;\r\n\tfont-weight: bold;\r\n\tmargin-bottom: 8px;\r\n`;\r\n\r\nconst Data = styled.span`\r\n\ttext-decoration: none;\r\n\tfont-size: 16px;\r\n\tcolor: #4F9DA6;\r\n\tmargin-bottom: 8px;\r\n`;\r\nconst PassersLink = styled(NavLink)`\r\n\tmargin-top: 8px;\r\n\tdisplay: block;\r\n\tfont-size: 18px;\r\n\ttext-decoration: underline;\r\n\tcolor: rgba(2, 134, 205, 1);\r\n\t: hover {\r\n\t\tcursor: pointer;\r\n\t\r\n}\r\n`;\r\nconst DataTitle = styled.div`\r\n\tfont-size: 16px;\t\r\n\tcolor: black;\r\n\tmargin-bottom: 8px;\r\n`;\r\n\r\nconst Button = styled.button`\r\n    padding: 10px 15px;\r\n    border: 0;\r\n    border-radius: 4px;\r\n    background-color: ${props => props.color || 'rgba(255, 89, 89, 1)'};\r\n\tcolor: white;\r\n\tbox-shadow: 0px 3px 6px rgba(0, 0, 0, 0.16);\r\n    font-weight: bold;\r\n    font-size: 20px;\r\n\tbox-sizing: border-box;\r\n\t: hover {\r\n\t\tcursor: ${props => props.disabled ? ''  : 'pointer' }\r\n\t}\r\n`;\r\nconst Img = styled.img`\r\n\tmargin: 0;\r\n\tmargin-bottom: 8px;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tbox-sizing: border-box;\r\n`;\r\nconst ButtonRight = styled.div`\r\n\tmargin: 16px;\r\n\ttext-align: right;\r\n`;\r\nconst DetailsLink = styled(NavLink)`\r\n\tmargin-top: 8px;\r\n\tdisplay: block;\r\n\tfont-size: 18px;\r\n\ttext-decoration: underline;\r\n\tcolor: rgba(2, 134, 205, 1);\r\n\t: hover {\r\n\t\tcursor: pointer;\r\n\t\t\r\n\t} \r\n`;\r\n\r\n\r\nclass TestComponent extends Component {\r\n\tstate = {\r\n\t\ttestExists: false,\r\n\t\ttest: this.props.user.tests,\r\n\t}\r\n\r\n\tconvertDate = (date) => {\r\n\t\tlet today = new Date(date);\r\n\t\tlet dd = today.getDate();\r\n\t\tlet mm = today.getMonth() + 1;\r\n\t\tlet yyyy = today.getFullYear();\r\n\r\n\t\tif (dd < 10) {\r\n\t\t\tdd = '0' + dd\r\n\t\t}\r\n\r\n\t\tif (mm < 10) {\r\n\t\t\tmm = '0' + mm\r\n\t\t}\r\n\t\treturn today = dd + '/' + mm + '/' + yyyy;\r\n\t}\r\n\r\n\tchooseImg = () => {\r\n\t\tswitch (this.props.test.testType) {\r\n\t\t\tcase 'JavaScript':\r\n\t\t\t\treturn js_svg;\r\n\t\t\tcase 'PHP':\r\n\t\t\t\treturn php_svg;\r\n\t\t\tcase 'C#':\r\n\t\t\t\treturn sharp_svg;\r\n\t\t\tcase 'React':\r\n\t\t\t\treturn react_svg;\r\n\t\t\tcase 'HTML':\r\n\t\t\t\treturn html_svg;\r\n\t\t\tcase 'CSS':\r\n\t\t\t\treturn css_svg;\r\n\t\t\tcase 'C++':\r\n\t\t\t\treturn cplus_svg;\r\n\t\t\tdefault:\r\n\t\t\t\treturn non_svg;\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tadd = (test) => {\r\n\t\tif (this.props.user && this.props.user.type === 'user') {\r\n\t\t\tlet userUrl = this.props.user.id;\r\n\t\t\tfirebase.database().ref(`user/${this.props.user.id}/tests`).once('value', (snapshot) => {\r\n\t\t\t\tif (snapshot.hasChild(`${test.id}`)) {\r\n\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.props.userTestAdded();\r\n\t\t\t\t\tthis.props.addUserTest(test);\r\n\t\t\t\t\tlet userRef = firebase.database().ref(`user/${userUrl}`);\r\n\t\t\t\t\tuserRef.child('tests').child(`${test.id}`).set({ ...test, userScore: -1 });\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tthis.props.testAddClicked();\r\n\t\t}\r\n\t}\r\n\r\n\tcheckIfAdded = (test) => {\r\n\t\tif (this.props.user && this.props.user.tests) {\r\n\t\t\tfor (let i = 0; i < this.props.user.tests.length; i++) {\r\n\t\t\t\tif (test.id === this.props.user.tests[i].id) {\r\n                    if (this.props.user.tests[i].userScore < 0)  {\r\n                        return 'added';\r\n                    } else {\r\n                        return 'passed';\r\n                    }\r\n\t\t\t\t} \r\n            }\r\n            \r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\tstartTest = (testId) => {\r\n        let test = this.props.user.tests.filter(test => test.id === testId);\r\n        let testObj = test[0];\r\n        new Promise((resolve) => {\r\n            this.props.addTest(testObj)\r\n            this.setState({test: testObj});\r\n            resolve(this.state.test)\r\n        }).then(test => {\r\n            console.log(this.state.test.questions);\r\n            this.setState({started: true});\r\n        })\r\n     \r\n    }\r\n\trender() {\r\n\t\tlet test = this.props.test;\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<TestBlock>\r\n\t\t\t\t\t<Img src={this.chooseImg()} />\r\n\t\t\t\t\t<Details>\r\n\t\t\t\t\t\t<TestTitle>\r\n\t\t\t\t\t\t\t{test.testTitle}\r\n\t\t\t\t\t\t</TestTitle>\r\n\t\t\t\t\t\t<Company>\r\n\t\t\t\t\t\t\t{test.company}\r\n\t\t\t\t\t\t</Company>\r\n\t\t\t\t\t\t<DataTitle>\r\n\t\t\t\t\t\t\tDeadline:{' '}\r\n\t\t\t\t\t\t\t<Data>\r\n\t\t\t\t\t\t\t\t{this.convertDate(test.testDeadline)}\r\n\t\t\t\t\t\t\t</Data>\r\n\t\t\t\t\t\t\t<PassersLink to={`/${test.company}/test${test.id}/passers`}>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tPasses: {' '}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t{test.passers ? test.passers.length : 0}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t</PassersLink>\r\n\t\t\t\t\t\t\t<DetailsLink to={`/test-info-page/${test.id}`}>\r\n\t\t\t\t\t\t\t\t<span>View Details</span>\r\n\t\t\t\t\t\t\t</DetailsLink>\r\n\t\t\t\t\t\t</DataTitle>\r\n\t\t\t\t\t</Details>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<ButtonRight>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t{\r\n                                (this.props.user && this.props.user.type !== 'company') || !this.props.user ?\r\n                                    <>\r\n                                        {!this.checkIfAdded(test)  &&\r\n                                            <Button \r\n                                                onClick={() => this.add( test )}>\r\n                                                Add test >  \r\n                                            </Button>\r\n                                        }\r\n                                        {\r\n                                        this.checkIfAdded(test) === 'added' &&\r\n                                        <NavLink to = {`/passing-test/${test.id}`} >\r\n                                            <Button \r\n                                                color={'#FFAD5A'}\r\n                                                onClick={() => this.startTest(test.id)}>\r\n                                                Pass test > \r\n                                            </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t</NavLink>\r\n                                        }\r\n\t\t\t\t\t\t\t\t\t\t\r\n                                        {\r\n\t\t\t\t\t\t\t\t\t\tthis.checkIfAdded(test) === 'passed' &&\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t        <Button \r\n                                                color={'#4F9DA6'}\r\n                                                disabled\r\n                                               >\r\n                                                \r\n                                                Passed \r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\r\n                                        }\r\n                                    </>\r\n                                    : \"\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</ButtonRight>\r\n\t\t\t\t</TestBlock>\r\n\t\t\t\t<Route \r\n                    path={`/passing-test/${test.id}`} component={() =>\r\n                    <TestPassPanel  user={this.state.user}  test={this.state.test} />} />\r\n\t\t\t</>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\taddUserTest: test => dispatch(addUserTest(test)),\r\n\t\taddTest: test => dispatch(addTest(test)),\r\n\t}\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(TestComponent)\r\n"]},"metadata":{},"sourceType":"module"}