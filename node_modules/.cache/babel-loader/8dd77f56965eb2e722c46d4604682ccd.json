{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\Gohar\\\\Desktop\\\\testing-project\\\\testing-project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"C:\\\\Users\\\\Gohar\\\\Desktop\\\\testing-project\\\\testing-project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Gohar\\\\Desktop\\\\testing-project\\\\testing-project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Gohar\\\\Desktop\\\\testing-project\\\\testing-project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Gohar\\\\Desktop\\\\testing-project\\\\testing-project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Gohar\\\\Desktop\\\\testing-project\\\\testing-project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _taggedTemplateLiteral from \"C:\\\\Users\\\\Gohar\\\\Desktop\\\\testing-project\\\\testing-project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"C:\\\\Users\\\\Gohar\\\\Desktop\\\\testing-project\\\\testing-project\\\\src\\\\containers\\\\Pages\\\\CompanyProfile.js\";\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n    align-items: center;\\n    background-image: url(\", \");\\n    background-position: center; \\n    background-repeat: no-repeat; \\n    background-size: cover;\\n    max-width: 100%;\\n\\n\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n    display: flex;\\n    justify-content: center;\\n    align-items: center;\\n    background-color: rgba(255, 255, 255, 0.7);\\n    height: 360px;\\n    width: 1200px;\\n    margin: 76px auto;\\n    max-width: 100%;\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { Component } from 'react';\nimport { NavLink } from \"react-router-dom\";\nimport CompanySvg from '../../containers/Pages/CompanyInfoPage/CompanySvg';\nimport * as firebase from \"firebase\";\nimport { storage } from '../../firebase/firebase';\nimport styled from 'styled-components';\nimport bgImg from '../../images/Photos/CompanyProfileImage.jpg';\nvar WhiteBackgroundDiv = styled.div(_templateObject());\nvar EmployiesDiv = styled.div(_templateObject2(), bgImg);\n\nvar CompanyProfile =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(CompanyProfile, _Component);\n\n  function CompanyProfile(props) {\n    var _this;\n\n    _classCallCheck(this, CompanyProfile);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(CompanyProfile).call(this, props));\n    _this.state = {\n      image: null,\n      url: _this.props.user.image,\n      progress: 0,\n      popup: false,\n      name: _this.props.user.name,\n      description: _this.props.user.description\n    };\n    return _this;\n  }\n\n  _createClass(CompanyProfile, [{\n    key: \"changeField\",\n    value: function changeField(e, field) {\n      this.setState(_defineProperty({}, field, e.target.value));\n    }\n  }, {\n    key: \"editData\",\n    value: function editData() {\n      var obj = this.props.user;\n      obj.name = this.state.name;\n      obj.description = this.state.description;\n      firebase.database().ref(\"companies/\".concat(this.props.user.id)).set(obj);\n    }\n  }, {\n    key: \"chooseImg\",\n    value: function chooseImg(e) {\n      var _this2 = this;\n\n      if (e.target.files[0]) {\n        var image = e.target.files[0];\n        this.setState({\n          image: image\n        });\n        setTimeout(function () {\n          _this2.handleUpload();\n        }, 100);\n      }\n    }\n  }, {\n    key: \"handleUpload\",\n    value: function handleUpload() {\n      var _this3 = this;\n\n      var image = this.state.image;\n\n      if (image) {\n        var uploadImage = storage.ref(\"images/\".concat(this.props.user.id, \"/\").concat(image.name)).put(image);\n        uploadImage.on('state_changed', function (snapshot) {\n          var progress = Math.round(snapshot.bytesTransferred / snapshot.totalBytes * 100);\n\n          _this3.setState({\n            progress: progress\n          });\n        }, function (error) {\n          console.log(error);\n        }, function () {\n          storage.ref(\"images/\".concat(_this3.props.user.id)).child(image.name).getDownloadURL().then(function (url) {\n            console.log(url);\n\n            _this3.setState({\n              url: url\n            });\n          });\n        });\n      }\n    }\n  }, {\n    key: \"createPopup\",\n    value: function createPopup() {\n      this.setState({\n        popup: true\n      });\n    }\n  }, {\n    key: \"removePopup\",\n    value: function removePopup() {\n      this.setState({\n        popup: false\n      });\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      if (prevState.url !== this.state.url) {\n        firebase.database().ref(\"companies/\".concat(this.props.user.id)).child('image').set(this.state.url);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, this.state.popup && React.createElement(\"div\", {\n        className: \"popupOverlay\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"popupOverlay__content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"popupOverlay__content__setting\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        onClick: this.removePopup.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, \"Close\")), React.createElement(\"hr\", {\n        style: {\n          margin: \"0 0 20px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, \"Name:\"), React.createElement(\"input\", {\n        type: \"text\",\n        value: this.state.name,\n        onChange: function onChange(e) {\n          return _this4.changeField(e, 'name');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, \"About Company:\"), React.createElement(\"textarea\", {\n        value: this.state.description,\n        onChange: function onChange(e) {\n          return _this4.changeField(e, 'description');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, this.state.description)), React.createElement(\"hr\", {\n        style: {\n          margin: \"20px 0\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"popupOverlay__content__setting\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"blue\",\n        onClick: this.editData.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, \"Edit\")))), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"company-profile\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"profile-logo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"image-content image-contentCompany\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, this.state.url ? React.createElement(\"img\", {\n        src: this.state.url,\n        alt: \"Upload\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }) : React.createElement(CompanySvg, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }), this.state.url && React.createElement(\"div\", {\n        className: \"uploadOverlay\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      })), this.state.progress !== 0 && React.createElement(\"progress\", {\n        value: this.state.progress,\n        className: \"progress red upload-progress\",\n        max: \"100\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"file\",\n        name: \"file\",\n        id: \"file\",\n        className: \"upload\",\n        onChange: this.chooseImg.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"profile-synopsis\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"profile-synopsis-name\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, this.props.user.name), React.createElement(\"div\", {\n        className: \"quote\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, \"The \", React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, \"software agency\"), \" that doesnt work for you\"), React.createElement(\"div\", {\n        style: {\n          padding: \"20px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, this.props.user.description))), React.createElement(\"div\", {\n        className: \"settings\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        onClick: this.createPopup.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, \"Edit Profie\")), React.createElement(EmployiesDiv, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }, React.createElement(WhiteBackgroundDiv, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"profile-create-test\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"checked-icon\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: require('../../images/checkbox.png'),\n        alt: \"checkbox\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, \"You can find employee.\")), React.createElement(\"div\", {\n        className: \"checked-icon\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: require('../../images/checkbox.png'),\n        alt: \"checkbox\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, \"You can add your own test.\"))), React.createElement(\"div\", {\n        className: \"profile-buttons\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }, React.createElement(NavLink, {\n        to: \"/users\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }, \"FIND EMPLOYEE\")), React.createElement(NavLink, {\n        to: \"/\".concat(this.props.user.name, \"/add-test\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      }, \"CREATE TEST\"))))))));\n    }\n  }]);\n\n  return CompanyProfile;\n}(Component);\n\nexport default CompanyProfile;","map":{"version":3,"sources":["C:\\Users\\Gohar\\Desktop\\testing-project\\testing-project\\src\\containers\\Pages\\CompanyProfile.js"],"names":["React","Component","NavLink","CompanySvg","firebase","storage","styled","bgImg","WhiteBackgroundDiv","div","EmployiesDiv","CompanyProfile","props","state","image","url","user","progress","popup","name","description","e","field","setState","target","value","obj","database","ref","id","set","files","setTimeout","handleUpload","uploadImage","put","on","snapshot","Math","round","bytesTransferred","totalBytes","error","console","log","child","getDownloadURL","then","prevProps","prevState","removePopup","bind","margin","changeField","editData","chooseImg","padding","createPopup","require"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { NavLink } from \"react-router-dom\";\r\nimport CompanySvg from '../../containers/Pages/CompanyInfoPage/CompanySvg';\r\nimport * as firebase from \"firebase\";\r\nimport { storage } from '../../firebase/firebase'\r\nimport styled from 'styled-components';\r\nimport bgImg from '../../images/Photos/CompanyProfileImage.jpg';\r\n\r\nconst WhiteBackgroundDiv = styled.div`\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    background-color: rgba(255, 255, 255, 0.7);\r\n    height: 360px;\r\n    width: 1200px;\r\n    margin: 76px auto;\r\n    max-width: 100%;\r\n`;\r\nconst EmployiesDiv = styled.div`\r\n    align-items: center;\r\n    background-image: url(${bgImg});\r\n    background-position: center; \r\n    background-repeat: no-repeat; \r\n    background-size: cover;\r\n    max-width: 100%;\r\n\r\n\r\n`;\r\nclass CompanyProfile extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            image: null,\r\n            url: this.props.user.image,\r\n            progress: 0,\r\n            popup: false,\r\n            name: this.props.user.name,\r\n            description: this.props.user.description\r\n        }\r\n\r\n    }\r\n\r\n    changeField(e, field) {\r\n        this.setState({\r\n            [field]: e.target.value,\r\n        })\r\n    }\r\n\r\n    editData () {\r\n        let obj = this.props.user;\r\n            obj.name = this.state.name;\r\n            obj.description = this.state.description;\r\n            firebase.database().ref(`companies/${this.props.user.id}`).set(obj);\r\n    }\r\n\r\n    chooseImg(e) {\r\n        if (e.target.files[0]) {\r\n            const image = e.target.files[0];\r\n            this.setState({ image })\r\n\r\n            setTimeout(() => {\r\n                this.handleUpload()\r\n            },100)\r\n        }\r\n    }\r\n\r\n    handleUpload () {\r\n\r\n        const { image } = this.state;\r\n        if (image) {\r\n            const uploadImage = storage.ref(`images/${this.props.user.id}/${image.name}`).put(image);\r\n\r\n\r\n            uploadImage.on('state_changed',\r\n                (snapshot) => {\r\n                    const progress = Math.round((snapshot.bytesTransferred / snapshot.totalBytes) * 100);\r\n                    this.setState({ progress })\r\n                },\r\n                (error) => {\r\n                    console.log(error);\r\n                },\r\n                () => {\r\n                    storage.ref(`images/${this.props.user.id}`).child(image.name).getDownloadURL().then(url => {\r\n                        console.log(url)\r\n                        this.setState({ url })\r\n                    })\r\n                })\r\n        }\r\n\r\n    }\r\n\r\n    createPopup(){\r\n        this.setState({popup: true})\r\n    }\r\n\r\n    removePopup(){\r\n        this.setState({popup: false})\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n        if (prevState.url !== this.state.url) {\r\n            firebase.database().ref(`companies/${this.props.user.id}`).child('image').set(this.state.url);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                {this.state.popup && <div className=\"popupOverlay\" >\r\n                                    <div className=\"popupOverlay__content\">\r\n                                        <div className=\"popupOverlay__content__setting\">\r\n                                            <span onClick={this.removePopup.bind(this)}>Close</span>\r\n                                        </div>\r\n                                        <hr style={{margin: \"0 0 20px\"}} />\r\n                                        <div className=\"content\">\r\n                                            <label>Name:</label>\r\n                                            <input type=\"text\" value={this.state.name} onChange={(e) => this.changeField(e, 'name') } />\r\n                                            <label>About Company:</label>\r\n                                            <textarea value={this.state.description} onChange={(e) => this.changeField(e, 'description') }>{this.state.description}</textarea>\r\n                                        </div>\r\n                                        <hr style={{margin: \"20px 0\"}} />\r\n                                        <div className=\"popupOverlay__content__setting\">\r\n                                            <span className=\"blue\" onClick={this.editData.bind(this)}>Edit</span>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>}\r\n                <div>\r\n                    <div className='company-profile'>\r\n                        <div className='profile-logo' >\r\n                            <div className=\"image-content image-contentCompany\">\r\n                                {this.state.url ? <img src={this.state.url} alt=\"Upload\" /> : <CompanySvg />}\r\n                                {this.state.url && <div className='uploadOverlay'></div>}\r\n                            </div>\r\n                            {this.state.progress !== 0 && <progress value={this.state.progress} className=\"progress red upload-progress\" max=\"100\" ></progress>}\r\n                            <input type=\"file\"  name=\"file\" id=\"file\" className=\"upload\" onChange={this.chooseImg.bind(this)}/>\r\n\r\n\r\n                        </div>\r\n                        <div className='profile-synopsis'>\r\n                            <div className='profile-synopsis-name'>{this.props.user.name}</div>\r\n                            <div className='quote'>The <span>software agency</span> that doesnt work for you</div>\r\n                            <div style={{padding: \"20px\"}}>\r\n                               {this.props.user.description}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"settings\">\r\n                        <span onClick={this.createPopup.bind(this)}>Edit Profie</span>\r\n                    </div>\r\n                    <EmployiesDiv>\r\n                        <WhiteBackgroundDiv >\r\n                            <div className='profile-create-test'>\r\n                                <div>\r\n                                    <div className='checked-icon'>\r\n                                        <img src={require('../../images/checkbox.png')} alt='checkbox' />\r\n                                        <span>You can find employee.</span>\r\n                                    </div>\r\n                                    <div className='checked-icon'>\r\n                                        <img src={require('../../images/checkbox.png')} alt='checkbox' />\r\n                                        <span>You can add your own test.</span>\r\n                                    </div>\r\n                                </div>\r\n                                <div className='profile-buttons'>\r\n                                    <NavLink to={`/users`}>\r\n                                        <button>FIND EMPLOYEE</button>\r\n                                    </NavLink>\r\n                                    <NavLink to={`/${this.props.user.name}/add-test`}>\r\n                                        <button>CREATE TEST</button>\r\n                                    </NavLink>\r\n                                </div>\r\n                            </div>\r\n                        </WhiteBackgroundDiv>\r\n                    </EmployiesDiv>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default CompanyProfile;"]},"metadata":{},"sourceType":"module"}