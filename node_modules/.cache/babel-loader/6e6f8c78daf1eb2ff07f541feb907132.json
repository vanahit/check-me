{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\Gohar\\\\Desktop\\\\testing-project\\\\testing-project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"C:\\\\Users\\\\Gohar\\\\Desktop\\\\testing-project\\\\testing-project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Gohar\\\\Desktop\\\\testing-project\\\\testing-project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Gohar\\\\Desktop\\\\testing-project\\\\testing-project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Gohar\\\\Desktop\\\\testing-project\\\\testing-project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Gohar\\\\Desktop\\\\testing-project\\\\testing-project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _taggedTemplateLiteral from \"C:\\\\Users\\\\Gohar\\\\Desktop\\\\testing-project\\\\testing-project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"C:\\\\Users\\\\Gohar\\\\Desktop\\\\testing-project\\\\testing-project\\\\src\\\\containers\\\\Pages\\\\AllTests.js\";\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n\\twidth: 1200px;\\n\\tmargin: auto;\\n\\tpadding-top: 200px;\\n\\tfont-size: 28px;\\n\\tcolor: #141218;\\n\\tbox-sizing: border-box;\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n\\ttext-align: center;\\n\\tmargin: 200px 0;\\n\\t\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { Component } from 'react';\nimport Searching from './Searching';\nimport Pagination from './Pagination';\nimport TestComponent from '../../components/OneTestComponent/TestRender';\nimport { CSSTransition, TransitionGroup } from \"react-transition-group\";\nimport { connect } from 'react-redux';\nimport styled from 'styled-components';\nimport Loader from '../../components/Loader';\nimport PopUpLogin from '../../components/PopUps/PopUpLogin';\nvar LoaderDiv = styled.div(_templateObject());\nvar NoTests = styled.div(_templateObject2());\n\nvar AllTests =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(AllTests, _Component);\n\n  function AllTests(props) {\n    var _this;\n\n    _classCallCheck(this, AllTests);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AllTests).call(this, props));\n\n    _this.compareDates = function (stringDate) {\n      return Date.parse(stringDate) >= Date.now();\n    };\n\n    _this.checkIfAdded = function (testId) {\n      if (_this.props.user && _this.props.user.tests) {\n        for (var i = 0; i < _this.props.user.tests.length; i++) {\n          if (testId === _this.props.user.tests[i].id) {\n            return true;\n          }\n        }\n\n        return false;\n      }\n    };\n\n    _this.testAddClicked = function () {\n      _this.setState({\n        testAddClicked: !_this.state.testAddClicked\n      });\n    };\n\n    _this.state = {\n      data: _this.props.tests,\n      search: \"\",\n      type: \"\",\n      currentPage: 1,\n      dataPerPage: 8,\n      loadMore: 0,\n      unMounted: false,\n      testAddClicked: false\n    };\n    return _this;\n  }\n\n  _createClass(AllTests, [{\n    key: \"searching\",\n    value: function searching(e, searchProp) {\n      var _this$setState;\n\n      this.setState((_this$setState = {}, _defineProperty(_this$setState, searchProp, e.target.value), _defineProperty(_this$setState, \"currentPage\", 1), _this$setState));\n    }\n  }, {\n    key: \"pageClick\",\n    value: function pageClick(e) {\n      this.setState({\n        currentPage: Number(e.target.id),\n        loadMore: 0\n      });\n    }\n  }, {\n    key: \"loadMore\",\n    value: function loadMore(e) {\n      this.setState({\n        loadMore: this.state.loadMore + 1\n      });\n    }\n  }, {\n    key: \"prev\",\n    value: function prev() {\n      this.setState({\n        currentPage: this.state.currentPage + this.state.loadMore - 1,\n        loadMore: 0\n      });\n    }\n  }, {\n    key: \"next\",\n    value: function next() {\n      this.setState({\n        currentPage: this.state.currentPage + this.state.loadMore + 1,\n        loadMore: 0\n      });\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      if (this.props.testsLoaded !== prevProps.testsLoaded) {\n        this.setState({\n          data: this.props.tests\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var fillteredTests = [];\n      var tests = [];\n      var passedTests = [];\n      var otherTests = [];\n\n      if (this.state.data) {\n        if (this.props.user && this.props.user.type === 'user') {\n          for (var i = 0; i < this.props.user.tests.length; i++) {\n            for (var j = 0; j < this.state.data.length; j++) {\n              if (this.props.user.tests[i].id === this.state.data[j].id && this.props.user.tests[i].userScore >= 0) {\n                passedTests.push(this.state.data[j]);\n              } else if (this.props.user.tests[i].id === this.state.data[j].id && this.props.user.tests[i].userScore < 0 || this.props.user.tests[i].id !== this.state.data[j].id) {\n                otherTests.push(this.state.data[j]);\n              }\n            }\n          }\n\n          tests = passedTests;\n        } else {//tests = this.state.data;\n        }\n\n        fillteredTests = tests.filter(function (item) {\n          return _this2.compareDates(item.testDeadline);\n        });\n      }\n\n      var selectSearchData = ['HTML', 'CSS', 'JavaScript', 'Java', 'Python', 'C#', 'Ruby', 'Swift', 'React', 'Redux', 'C++', 'PHP', 'MySQL'];\n      var _this$state = this.state,\n          search = _this$state.search,\n          type = _this$state.type,\n          currentPage = _this$state.currentPage,\n          dataPerPage = _this$state.dataPerPage,\n          loadMore = _this$state.loadMore;\n      var filterData = fillteredTests.filter(function (item) {\n        return item.testTitle.toLowerCase().substr(0, search.length) === search.toLowerCase();\n      });\n\n      if (type !== \"\") {\n        filterData = filterData.filter(function (item) {\n          return item.testType === type;\n        });\n      }\n\n      var indexOfLastData = currentPage * dataPerPage;\n      var indexOfFirstData = indexOfLastData - dataPerPage;\n      var currentData = filterData.slice(indexOfFirstData, indexOfLastData + loadMore * dataPerPage);\n      var pages = [];\n\n      for (var _i = 1; _i <= Math.ceil(filterData.length / dataPerPage); _i++) {\n        pages.push(_i);\n      }\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, this.state.testAddClicked && React.createElement(PopUpLogin, {\n        testAddClicked: this.testAddClicked,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }), this.props.tests ? React.createElement(\"div\", {\n        className: \"container-fluid\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, React.createElement(Searching, Object.assign({}, this.state, {\n        searching: this.searching.bind(this),\n        currentDataLength: currentData.length,\n        selectSearchData: selectSearchData,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      })), tests.length ? filterData.length ? React.createElement(\"div\", {\n        className: \"content-grid-tests\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }, currentData.map(function (item) {\n        return React.createElement(TransitionGroup, {\n          className: \"test-grid\",\n          key: item.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 158\n          },\n          __self: this\n        }, React.createElement(CSSTransition, {\n          in: _this2.state.unMounted ? false : true,\n          appear: _this2.state.unMounted ? false : true,\n          timeout: 450,\n          classNames: \"slide\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 159\n          },\n          __self: this\n        }, React.createElement(TestComponent, {\n          added: _this2.checkIfAdded(item.id),\n          test: item,\n          user: _this2.props.user,\n          testAddClicked: _this2.testAddClicked,\n          userTestAdded: _this2.props.userTestAdded,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 165\n          },\n          __self: this\n        })));\n      }), React.createElement(Pagination, {\n        load_More: loadMore,\n        loadMore: this.loadMore.bind(this),\n        currentPage: currentPage,\n        prev: this.prev.bind(this),\n        pageClick: this.pageClick.bind(this),\n        next: this.next.bind(this),\n        pages: pages,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178\n        },\n        __self: this\n      })) : React.createElement(NoTests, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188\n        },\n        __self: this\n      }, \"Sorry, nothing was found!\") : React.createElement(LoaderDiv, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        },\n        __self: this\n      }, \"  \", React.createElement(Loader, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        },\n        __self: this\n      }), \" \")) : React.createElement(NoTests, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198\n        },\n        __self: this\n      }, \" There is no tests yet \"));\n    }\n  }]);\n\n  return AllTests;\n}(Component);\n\nfunction mapStateToProps(state) {\n  return {\n    tests: state.appReducer.tests,\n    testsLoaded: state.appReducer.testsLoaded\n  };\n}\n\nexport default connect(mapStateToProps, null)(AllTests);","map":{"version":3,"sources":["C:\\Users\\Gohar\\Desktop\\testing-project\\testing-project\\src\\containers\\Pages\\AllTests.js"],"names":["React","Component","Searching","Pagination","TestComponent","CSSTransition","TransitionGroup","connect","styled","Loader","PopUpLogin","LoaderDiv","div","NoTests","AllTests","props","compareDates","stringDate","Date","parse","now","checkIfAdded","testId","user","tests","i","length","id","testAddClicked","setState","state","data","search","type","currentPage","dataPerPage","loadMore","unMounted","e","searchProp","target","value","Number","prevProps","prevState","testsLoaded","fillteredTests","passedTests","otherTests","j","userScore","push","filter","item","testDeadline","selectSearchData","filterData","testTitle","toLowerCase","substr","testType","indexOfLastData","indexOfFirstData","currentData","slice","pages","Math","ceil","searching","bind","map","userTestAdded","prev","pageClick","next","mapStateToProps","appReducer"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport Searching from './Searching';\r\nimport Pagination from './Pagination';\r\nimport TestComponent from '../../components/OneTestComponent/TestRender';\r\nimport { CSSTransition, TransitionGroup } from \"react-transition-group\";\r\nimport { connect } from 'react-redux';\r\nimport styled from 'styled-components';\r\nimport Loader from '../../components/Loader';\r\nimport PopUpLogin from '../../components/PopUps/PopUpLogin';\r\n\r\nconst LoaderDiv = styled.div`\r\n\ttext-align: center;\r\n\tmargin: 200px 0;\r\n\t\r\n`;\r\nconst NoTests = styled.div`\r\n\twidth: 1200px;\r\n\tmargin: auto;\r\n\tpadding-top: 200px;\r\n\tfont-size: 28px;\r\n\tcolor: #141218;\r\n\tbox-sizing: border-box;\r\n`;\r\n\r\nclass AllTests extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tdata: this.props.tests,\r\n\t\t\tsearch: \"\",\r\n\t\t\ttype: \"\",\r\n\t\t\tcurrentPage: 1,\r\n\t\t\tdataPerPage: 8,\r\n\t\t\tloadMore: 0,\r\n\t\t\tunMounted: false,\r\n\t\t\ttestAddClicked: false\r\n\t\t}\r\n\t}\r\n\tsearching(e, searchProp) {\r\n\t\tthis.setState({\r\n\t\t\t[searchProp]: e.target.value,\r\n\t\t\tcurrentPage: 1\r\n\t\t})\r\n\t}\r\n\r\n\tpageClick(e) {\r\n\t\tthis.setState({\r\n\t\t\tcurrentPage: Number(e.target.id),\r\n\t\t\tloadMore: 0\r\n\t\t})\r\n\t}\r\n\r\n\tloadMore(e) {\r\n\t\tthis.setState({ loadMore: this.state.loadMore + 1 })\r\n\t}\r\n\r\n\tprev() {\r\n\t\tthis.setState({\r\n\t\t\tcurrentPage: this.state.currentPage + this.state.loadMore - 1,\r\n\t\t\tloadMore: 0\r\n\t\t})\r\n\t}\r\n\r\n\tnext() {\r\n\t\tthis.setState({\r\n\t\t\tcurrentPage: this.state.currentPage + this.state.loadMore + 1,\r\n\t\t\tloadMore: 0\r\n\t\t})\r\n\t}\r\n\tcompareDates = (stringDate) => {\r\n\t\treturn Date.parse(stringDate) >= Date.now();\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps, prevState) {\r\n\t\tif (this.props.testsLoaded !== prevProps.testsLoaded) {\r\n\t\t\tthis.setState({ data: this.props.tests });\r\n\t\t}\r\n\r\n\t}\r\n\tcheckIfAdded = (testId) => {\r\n\t\tif (this.props.user && this.props.user.tests) {\r\n\t\t\tfor (let i = 0; i < this.props.user.tests.length; i++) {\r\n\t\t\t\tif (testId === this.props.user.tests[i].id) {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\r\n\ttestAddClicked = () => {\r\n        this.setState({ testAddClicked: !this.state.testAddClicked });\r\n    };\r\n\trender() {\r\n\t\tlet fillteredTests = [];\r\n\t\tlet tests = [];\r\n\t\tlet passedTests =[];\r\n\t\tlet otherTests = [];\r\n\t\tif (this.state.data) {\r\n\t\t\tif (this.props.user && this.props.user.type === 'user') {\r\n\t\t\t\tfor (let i = 0; i < this.props.user.tests.length; i++) {\r\n\t\t\t\t\tfor (let j = 0; j < this.state.data.length; j++) {\r\n\t\t\t\t\t\tif (this.props.user.tests[i].id === this.state.data[j].id && this.props.user.tests[i].userScore >= 0) {\r\n\t\t\t\t\t\t\tpassedTests.push(this.state.data[j]);\r\n\t\t\t\t\t\t} else if ((this.props.user.tests[i].id === this.state.data[j].id && this.props.user.tests[i].userScore < 0) \r\n\t\t\t\t\t\t\t|| this.props.user.tests[i].id !== this.state.data[j].id) {\r\n\t\t\t\t\t\t\totherTests.push(this.state.data[j]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\ttests = passedTests;\r\n\t\t\t} else {\r\n\t\t\t\t//tests = this.state.data;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tfillteredTests = tests.filter(item => this.compareDates(item.testDeadline));\r\n\t\t}\r\n\r\n\r\n\t\tconst selectSearchData = ['HTML', 'CSS', 'JavaScript', 'Java', 'Python', 'C#', 'Ruby', 'Swift', 'React', 'Redux', 'C++', 'PHP', 'MySQL'];\r\n\t\tconst { search, type, currentPage, dataPerPage, loadMore } = this.state;\r\n\t\tlet filterData = fillteredTests.filter(item => {\r\n\t\t\treturn item.testTitle.toLowerCase().substr(0, search.length) === search.toLowerCase()\r\n\t\t})\r\n\r\n\t\tif (type !== \"\") {\r\n\t\t\tfilterData = filterData.filter(item => item.testType === type)\r\n\t\t}\r\n\r\n\t\tconst indexOfLastData = currentPage * dataPerPage;\r\n\t\tconst indexOfFirstData = indexOfLastData - dataPerPage;\r\n\t\tconst currentData = filterData.slice(indexOfFirstData, indexOfLastData + loadMore * dataPerPage);\r\n\r\n\t\tconst pages = [];\r\n\t\tfor (let i = 1; i <= Math.ceil(filterData.length / dataPerPage); i++) {\r\n\t\t\tpages.push(i);\r\n\t\t}\r\n\r\n\t\treturn (\r\n\r\n\t\t\t<div>\r\n\t\t\t\t\r\n\t\t\t{this.state.testAddClicked && <PopUpLogin testAddClicked={this.testAddClicked} />}\r\n\t\t\t{this.props.tests ?\r\n\t\t\t\t<div className=\"container-fluid\">\r\n\t\t\t\t\t<Searching\r\n\t\t\t\t\t\t{...this.state}\r\n\t\t\t\t\t\tsearching={this.searching.bind(this)}\r\n\t\t\t\t\t\tcurrentDataLength={currentData.length}\r\n\t\t\t\t\t\tselectSearchData={selectSearchData}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{tests.length ?\r\n\t\t\t\t\t\tfilterData.length ?\r\n\t\t\t\t\t\t\t<div className=\"content-grid-tests\">\r\n\t\t\t\t\t\t\t\t{currentData.map(item => {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<TransitionGroup className=\"test-grid\" key={item.id}>\r\n\t\t\t\t\t\t\t\t\t\t\t<CSSTransition\r\n\t\t\t\t\t\t\t\t\t\t\t\tin={this.state.unMounted ? false : true}\r\n\t\t\t\t\t\t\t\t\t\t\t\tappear={this.state.unMounted ? false : true}\r\n\t\t\t\t\t\t\t\t\t\t\t\ttimeout={450}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassNames=\"slide\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TestComponent\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tadded={this.checkIfAdded(item.id)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttest={item}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tuser={this.props.user}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttestAddClicked={this.testAddClicked}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tuserTestAdded={this.props.userTestAdded}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t</CSSTransition>\r\n\t\t\t\t\t\t\t\t\t\t</TransitionGroup>\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t<Pagination\r\n\t\t\t\t\t\t\t\t\tload_More={loadMore}\r\n\t\t\t\t\t\t\t\t\tloadMore={this.loadMore.bind(this)}\r\n\t\t\t\t\t\t\t\t\tcurrentPage={currentPage}\r\n\t\t\t\t\t\t\t\t\tprev={this.prev.bind(this)}\r\n\t\t\t\t\t\t\t\t\tpageClick={this.pageClick.bind(this)}\r\n\t\t\t\t\t\t\t\t\tnext={this.next.bind(this)}\r\n\t\t\t\t\t\t\t\t\tpages={pages}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t: <NoTests>Sorry, nothing was found!</NoTests>\r\n\r\n\t\t\t\t\t\t: <LoaderDiv>  <Loader /> </LoaderDiv>\r\n\r\n\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t</div>\r\n\t\r\n\r\n\t\t\t\t: <NoTests> There is no tests yet </NoTests>\r\n\t\t\t}\r\n\t\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t\ttests: state.appReducer.tests,\r\n\t\ttestsLoaded: state.appReducer.testsLoaded,\r\n\t}\r\n\r\n}\r\n\r\nexport default connect(mapStateToProps, null)(AllTests)"]},"metadata":{},"sourceType":"module"}