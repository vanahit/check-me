{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\Gohar\\\\Desktop\\\\\\u041D\\u043E\\u0432\\u0430\\u044F \\u043F\\u0430\\u043F\\u043A\\u0430 (2)\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"C:\\\\Users\\\\Gohar\\\\Desktop\\\\\\u041D\\u043E\\u0432\\u0430\\u044F \\u043F\\u0430\\u043F\\u043A\\u0430 (2)\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Gohar\\\\Desktop\\\\\\u041D\\u043E\\u0432\\u0430\\u044F \\u043F\\u0430\\u043F\\u043A\\u0430 (2)\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Gohar\\\\Desktop\\\\\\u041D\\u043E\\u0432\\u0430\\u044F \\u043F\\u0430\\u043F\\u043A\\u0430 (2)\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Gohar\\\\Desktop\\\\\\u041D\\u043E\\u0432\\u0430\\u044F \\u043F\\u0430\\u043F\\u043A\\u0430 (2)\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Gohar\\\\Desktop\\\\\\u041D\\u043E\\u0432\\u0430\\u044F \\u043F\\u0430\\u043F\\u043A\\u0430 (2)\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _taggedTemplateLiteral from \"C:\\\\Users\\\\Gohar\\\\Desktop\\\\\\u041D\\u043E\\u0432\\u0430\\u044F \\u043F\\u0430\\u043F\\u043A\\u0430 (2)\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"C:\\\\Users\\\\Gohar\\\\Desktop\\\\\\u041D\\u043E\\u0432\\u0430\\u044F \\u043F\\u0430\\u043F\\u043A\\u0430 (2)\\\\src\\\\components\\\\UserProfile\\\\UserProfile.js\";\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n    width: 40px;\\n    height: 40px;\\n    border: 1px solid #E7E7E7;\\n    box-shadow: 0 3px 6px  rgba(0, 0, 0, 0.16);\\n    background-image:url(\", \");\\n    background-position: center;\\n    background-repeat: no-repeat;\\n    background-size: 20px;\\n    background-color: transparent;\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n    text-align: right;\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n\\tbox-sizing: border-box;\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { Component } from 'react';\nimport PassedTests from '../PassedTests';\nimport UserSvg from './UserSvg';\nimport * as firebase from \"firebase\";\nimport { storage } from '../../firebase/firebase';\nimport styled from 'styled-components';\nimport close from \"../../images/buttonIcons/closeIcon.svg\";\nvar Main = styled.div(_templateObject());\nvar CloseDiv = styled.div(_templateObject2());\nvar Close = styled.button(_templateObject3(), close);\n\nvar UserProfile =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(UserProfile, _Component);\n\n  function UserProfile(props) {\n    var _this;\n\n    _classCallCheck(this, UserProfile);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(UserProfile).call(this, props));\n    _this.state = {\n      image: null,\n      url: _this.props.user.image,\n      progress: 0,\n      popup: false,\n      firstName: _this.props.user.firstName,\n      lastName: _this.props.user.lastName,\n      description: _this.props.user.description,\n      languages: _this.props.user.languages\n    };\n    return _this;\n  }\n\n  _createClass(UserProfile, [{\n    key: \"changeField\",\n    value: function changeField(e, field) {\n      this.setState(_defineProperty({}, field, e.target.value));\n    }\n  }, {\n    key: \"editData\",\n    value: function editData() {\n      var obj = this.props.user;\n      obj.firstName = this.state.firstName;\n      obj.lastName = this.state.lastName;\n      obj.description = this.state.description;\n      obj.languages = this.state.languages;\n      firebase.database().ref(\"user/\".concat(this.props.user.id)).set(obj);\n    }\n  }, {\n    key: \"changeCheckboxHandler\",\n    value: function changeCheckboxHandler(e, lang) {\n      var languages = this.state.languages;\n\n      if (e.target.checked) {\n        languages.push(lang);\n      } else {\n        languages = languages.filter(function (item) {\n          return item !== lang;\n        });\n      }\n\n      this.setState({\n        languages: languages\n      });\n    }\n  }, {\n    key: \"chooseImg\",\n    value: function chooseImg(e) {\n      var _this2 = this;\n\n      if (e.target.files[0]) {\n        var image = e.target.files[0];\n        this.setState({\n          image: image\n        });\n        setTimeout(function () {\n          _this2.handleUpload();\n        }, 100);\n      }\n    }\n  }, {\n    key: \"createPopup\",\n    value: function createPopup() {\n      this.setState({\n        popup: true\n      });\n    }\n  }, {\n    key: \"removePopup\",\n    value: function removePopup() {\n      this.setState({\n        popup: false\n      });\n    }\n  }, {\n    key: \"handleUpload\",\n    value: function handleUpload() {\n      var _this3 = this;\n\n      var image = this.state.image;\n\n      if (image) {\n        var uploadImage = storage.ref(\"images/\".concat(this.props.user.id, \"/\").concat(image.name)).put(image);\n        uploadImage.on('state_changed', function (snapshot) {\n          var progress = Math.round(snapshot.bytesTransferred / snapshot.totalBytes * 100);\n\n          _this3.setState({\n            progress: progress\n          });\n        }, function (error) {}, function () {\n          storage.ref(\"images/\".concat(_this3.props.user.id)).child(image.name).getDownloadURL().then(function (url) {\n            _this3.setState({\n              url: url\n            });\n          });\n        });\n      }\n    }\n  }, {\n    key: \"checked\",\n    value: function checked(skill) {\n      return this.state.languages.some(function (item) {\n        return item === skill;\n      });\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      if (prevState.url !== this.state.url) {\n        firebase.database().ref(\"user/\".concat(this.props.user.id)).child('image').set(this.state.url);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      var languages = ['HTML', 'CSS', 'JavaScript', 'Java', 'Python', 'C#', 'Ruby', 'Swift', 'React', 'Redux', 'C++', 'PHP', 'MySQL'];\n\n      function skills(arr) {\n        return arr.join(', ');\n      }\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, this.state.popup && React.createElement(\"div\", {\n        className: \"popupOverlay\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"popupOverlay__content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"popupOverlay__content__setting\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, React.createElement(CloseDiv, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, \" \", React.createElement(Close, {\n        onClick: this.removePopup.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, \"Name:\"), React.createElement(\"input\", {\n        type: \"text\",\n        value: this.state.firstName,\n        onChange: function onChange(e) {\n          return _this4.changeField(e, 'firstName');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, \"Surname:\"), React.createElement(\"input\", {\n        type: \"text\",\n        value: this.state.lastName,\n        onChange: function onChange(e) {\n          return _this4.changeField(e, 'lastName');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, \"About Yourself:\"), React.createElement(\"textarea\", {\n        value: this.state.description,\n        onChange: function onChange(e) {\n          return _this4.changeField(e, 'description');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, this.state.description), React.createElement(\"div\", {\n        className: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }, languages.map(function (item, index) {\n        return React.createElement(\"div\", {\n          className: \"popup--skill skill\",\n          key: index,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 147\n          },\n          __self: this\n        }, React.createElement(\"input\", {\n          type: \"checkbox\",\n          onChange: function onChange(e) {\n            return _this4.changeCheckboxHandler(e, item);\n          },\n          checked: _this4.checked(item),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 148\n          },\n          __self: this\n        }), React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 152\n          },\n          __self: this\n        }, item));\n      }))), React.createElement(\"hr\", {\n        style: {\n          margin: \"20px 0\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"popupOverlay__content__setting\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, React.createElement(CloseDiv, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"green\",\n        onClick: this.editData.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }, \"Edit\"))))), React.createElement(Main, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"userContent company-profile\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"profile-logo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"image-content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      }, this.state.url ? React.createElement(\"img\", {\n        src: this.state.url,\n        alt: \"Upload\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }) : React.createElement(UserSvg, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }), this.state.url && React.createElement(\"div\", {\n        className: \"uploadOverlay\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      })), this.state.progress !== 0 && React.createElement(\"progress\", {\n        value: this.state.progress,\n        className: \"progress red upload-progress\",\n        max: \"100\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"file\",\n        name: \"file\",\n        id: \"file\",\n        className: \"upload\",\n        onChange: this.chooseImg.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"infoUser\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179\n        },\n        __self: this\n      }, \"\".concat(this.props.user.firstName, \" \").concat(this.props.user.lastName)), React.createElement(\"div\", {\n        className: \"skillsDivUser\",\n        style: {\n          margin: \"20px 0\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        style: {\n          color: \"grey\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }, \"Skills: \"), React.createElement(\"span\", {\n        className: \"orange\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      }, \" \", skills(this.props.user.languages), \" \")), React.createElement(\"div\", {\n        style: {\n          padding: \"20px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      }, this.props.user.description))), React.createElement(\"div\", {\n        className: \"settings\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        onClick: this.createPopup.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        },\n        __self: this\n      }, \"Edit Profie\")), React.createElement(\"div\", {\n        className: \"labelHeader\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      }, \"Passed Tests\"), React.createElement(PassedTests, {\n        user: this.props.user,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return UserProfile;\n}(Component);\n\nexport { UserProfile as default };","map":{"version":3,"sources":["C:\\Users\\Gohar\\Desktop\\Новая папка (2)\\src\\components\\UserProfile\\UserProfile.js"],"names":["React","Component","PassedTests","UserSvg","firebase","storage","styled","Main","div","CloseDiv","Close","button","close","UserProfile","props","state","image","url","user","progress","popup","firstName","lastName","description","languages","e","field","setState","target","value","obj","database","ref","id","set","lang","checked","push","filter","item","files","setTimeout","handleUpload","uploadImage","name","put","on","snapshot","Math","round","bytesTransferred","totalBytes","error","child","getDownloadURL","then","skill","some","prevProps","prevState","skills","arr","join","removePopup","bind","changeField","map","index","changeCheckboxHandler","margin","editData","chooseImg","color","padding","createPopup"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport PassedTests from '../PassedTests';\r\nimport UserSvg from './UserSvg';\r\nimport * as firebase from \"firebase\";\r\nimport { storage } from '../../firebase/firebase'\r\nimport styled from 'styled-components';\r\nimport close from '../../images/buttonIcons/closeIcon.svg';\r\n\r\nconst Main = styled.div`\r\n\tbox-sizing: border-box;\r\n`;\r\nconst CloseDiv = styled.div`\r\n    text-align: right;\r\n`;\r\nconst Close = styled.button`\r\n    width: 40px;\r\n    height: 40px;\r\n    border: 1px solid #E7E7E7;\r\n    box-shadow: 0 3px 6px  rgba(0, 0, 0, 0.16);\r\n    background-image:url(${close});\r\n    background-position: center;\r\n    background-repeat: no-repeat;\r\n    background-size: 20px;\r\n    background-color: transparent;\r\n`;\r\nexport default class UserProfile extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n            image: null,\r\n            url: this.props.user.image,\r\n            progress: 0,\r\n            popup: false,\r\n            firstName: this.props.user.firstName,\r\n            lastName: this.props.user.lastName,\r\n            description: this.props.user.description,\r\n            languages: this.props.user.languages\r\n        }\r\n    }\r\n\r\n    changeField(e, field) {\r\n        this.setState({\r\n            [field]: e.target.value,\r\n        })\r\n    }\r\n\r\n    editData() {\r\n        let obj = this.props.user;\r\n        obj.firstName = this.state.firstName;\r\n        obj.lastName = this.state.lastName;\r\n        obj.description = this.state.description;\r\n        obj.languages = this.state.languages\r\n        firebase.database().ref(`user/${this.props.user.id}`).set(obj);\r\n    }\r\n\r\n    changeCheckboxHandler(e, lang) {\r\n        let languages = this.state.languages;\r\n        if (e.target.checked) {\r\n            languages.push(lang);\r\n        } else {\r\n            languages = languages.filter(item => item !== lang);\r\n        }\r\n        this.setState({ languages });\r\n    }\r\n\r\n    chooseImg(e) {\r\n        if (e.target.files[0]) {\r\n            const image = e.target.files[0];\r\n            this.setState({ image })\r\n            setTimeout(() => {\r\n                this.handleUpload()\r\n            }, 100)\r\n        }\r\n    }\r\n\r\n    createPopup() {\r\n        this.setState({ popup: true })\r\n    }\r\n\r\n    removePopup() {\r\n        this.setState({ popup: false })\r\n    }\r\n\r\n    handleUpload() {\r\n\r\n        const { image } = this.state;\r\n        if (image) {\r\n            const uploadImage = storage.ref(`images/${this.props.user.id}/${image.name}`).put(image);\r\n\r\n\r\n            uploadImage.on('state_changed',\r\n                (snapshot) => {\r\n                    const progress = Math.round((snapshot.bytesTransferred / snapshot.totalBytes) * 100);\r\n                    this.setState({ progress })\r\n                },\r\n                (error) => {\r\n\r\n                },\r\n                () => {\r\n                    storage.ref(`images/${this.props.user.id}`).child(image.name).getDownloadURL().then(url => {\r\n\r\n                        this.setState({ url })\r\n                    })\r\n                })\r\n        }\r\n\r\n    }\r\n\r\n    checked(skill) {\r\n        return this.state.languages.some(item => item === skill)\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n        if (prevState.url !== this.state.url) {\r\n            firebase.database().ref(`user/${this.props.user.id}`).child('image').set(this.state.url);\r\n\r\n\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const languages = ['HTML', 'CSS', 'JavaScript', 'Java', 'Python', 'C#', 'Ruby', 'Swift', 'React', 'Redux', 'C++', 'PHP', 'MySQL'];\r\n        function skills(arr) {\r\n            return arr.join(', ')\r\n        }\r\n\r\n\r\n        return (\r\n            <div>\r\n                {this.state.popup && <div className=\"popupOverlay\">\r\n                    <div className=\"popupOverlay__content\">\r\n                        <div className=\"popupOverlay__content__setting\">\r\n                            <CloseDiv> <Close onClick={this.removePopup.bind(this)} /></CloseDiv>\r\n                        </div>\r\n                        <div className=\"content\">\r\n                            <label>Name:</label>\r\n                            <input type=\"text\" value={this.state.firstName} onChange={(e) => this.changeField(e, 'firstName')} />\r\n                            <label>Surname:</label>\r\n                            <input type=\"text\" value={this.state.lastName} onChange={(e) => this.changeField(e, 'lastName')} />\r\n                            <label>About Yourself:</label>\r\n                            <textarea value={this.state.description} onChange={(e) => this.changeField(e, 'description')}>{this.state.description}</textarea>\r\n                            <div className=\"\">\r\n                                {\r\n                                    languages.map((item, index) => {\r\n                                        return (\r\n                                            <div className=\"popup--skill skill\" key={index}>\r\n                                                <input\r\n                                                    type=\"checkbox\"\r\n                                                    onChange={e => this.changeCheckboxHandler(e, item)}\r\n                                                    checked={this.checked(item)} />\r\n                                                <span>{item}</span>\r\n                                            </div>\r\n                                        )\r\n                                    })\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                        <hr style={{ margin: \"20px 0\" }} />\r\n                        <div className=\"popupOverlay__content__setting\">\r\n                            <CloseDiv><button className=\"green\" onClick={this.editData.bind(this)}>Edit</button></CloseDiv>\r\n                        </div>\r\n                    </div>\r\n                </div>}\r\n                <Main>\r\n                    <div className=\"userContent company-profile\">\r\n                        <div className='profile-logo' >\r\n                            <div className=\"image-content\">\r\n                                {this.state.url ? <img src={this.state.url} alt=\"Upload\" /> : <UserSvg />}\r\n                                {this.state.url && <div className='uploadOverlay'></div>}\r\n\r\n                            </div>\r\n                            {this.state.progress !== 0 && <progress value={this.state.progress} className=\"progress red upload-progress\" max=\"100\" ></progress>}\r\n                            <input type=\"file\" name=\"file\" id=\"file\" className=\"upload\" onChange={this.chooseImg.bind(this)} />\r\n\r\n\r\n                        </div>\r\n                        <div className=\"infoUser\">\r\n                            <h2>{`${this.props.user.firstName} ${this.props.user.lastName}`}</h2>\r\n                            <div className=\"skillsDivUser\" style={{ margin: \"20px 0\" }}>\r\n                                <span style={{ color: \"grey\" }}>Skills: </span>\r\n                                <span className=\"orange\"> {skills(this.props.user.languages)} </span>\r\n                            </div>\r\n                            <div style={{ padding: \"20px\" }}>\r\n                                {this.props.user.description}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"settings\">\r\n                        <span onClick={this.createPopup.bind(this)}>Edit Profie</span>\r\n                    </div>\r\n                    <div className=\"labelHeader\">Passed Tests</div>\r\n                    <PassedTests user={this.props.user} />\r\n                </Main>\r\n            </div>\r\n        );\r\n    }\r\n\r\n}"]},"metadata":{},"sourceType":"module"}