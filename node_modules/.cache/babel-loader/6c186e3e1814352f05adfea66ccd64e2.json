{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\Gohar\\\\Desktop\\\\testing-project\\\\testing-project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"C:\\\\Users\\\\Gohar\\\\Desktop\\\\testing-project\\\\testing-project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Gohar\\\\Desktop\\\\testing-project\\\\testing-project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Gohar\\\\Desktop\\\\testing-project\\\\testing-project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Gohar\\\\Desktop\\\\testing-project\\\\testing-project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Gohar\\\\Desktop\\\\testing-project\\\\testing-project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _taggedTemplateLiteral from \"C:\\\\Users\\\\Gohar\\\\Desktop\\\\testing-project\\\\testing-project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"C:\\\\Users\\\\Gohar\\\\Desktop\\\\testing-project\\\\testing-project\\\\src\\\\containers\\\\Pages\\\\AllCompanies.js\";\n\nfunction _templateObject8() {\n  var data = _taggedTemplateLiteral([\"\\n\\tpadding: 0 8px;\\n\"]);\n\n  _templateObject8 = function _templateObject8() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject7() {\n  var data = _taggedTemplateLiteral([\"\\n\\ttext-decoration: underline;\\n\\tcolor: #100529;\\n\\tfont-size: 24px;\\n\"]);\n\n  _templateObject7 = function _templateObject7() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject6() {\n  var data = _taggedTemplateLiteral([\"\\n\\tfont-size: 18px;\\n\\ttext-transform: uppercase;\\n\"]);\n\n  _templateObject6 = function _templateObject6() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject5() {\n  var data = _taggedTemplateLiteral([\"\\n\\tcolor: #100529;\\n\\ttext-decoration: none;\\n\"]);\n\n  _templateObject5 = function _templateObject5() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject4() {\n  var data = _taggedTemplateLiteral([\"\\n\\ttext-align: center;\\n\\tmargin: 200px 0;\\n\"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n\\theight: 110px;\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n\\twidth: 1200px;\\n\\tmargin: auto;\\n\\tpadding-top: 100px;\\n\\tfont-size: 28px;\\n\\tcolor: #141218;\\n\\tbox-sizing: border-box;\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n\\tmargin: 8px auto;\\n\\twidth: 150px;\\n\\theight: 150px;\\n\\tfill: rgba(16, 5, 41, 1);\\n\\t:hover {\\n\\t\\tfill: #FF5959;\\n\\t}\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { Component } from 'react';\nimport Searching from './Searching';\nimport Pagination from './Pagination';\nimport { CSSTransition, TransitionGroup } from \"react-transition-group\";\nimport { connect } from 'react-redux';\nimport { NavLink } from 'react-router-dom';\nimport styled from 'styled-components';\nimport Loader from '../../components/Loader';\nimport CompanySvg from '../../containers/Pages/CompanyInfoPage/CompanySvg';\nvar CompanySvgDiv = styled.div(_templateObject());\nvar NoTests = styled.div(_templateObject2());\nvar UserImg = styled.img(_templateObject3());\nvar LoaderDiv = styled.div(_templateObject4());\nvar NavLinkDiv = styled(NavLink)(_templateObject5());\nvar CompanyName = styled.span(_templateObject6());\nvar TestsCount = styled.span(_templateObject7());\nvar InfoDiv = styled.div(_templateObject8());\n\nvar AllCompanies =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(AllCompanies, _Component);\n\n  function AllCompanies(props) {\n    var _this;\n\n    _classCallCheck(this, AllCompanies);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AllCompanies).call(this, props));\n\n    _this.getTests = function (companyId) {\n      if (_this.props.tests) {\n        var tests = _this.props.tests.filter(function (test) {\n          return test.companyId === companyId;\n        });\n\n        return tests.length;\n      }\n    };\n\n    _this.state = {\n      data: _this.props.companies,\n      search: \"\",\n      type: \"\",\n      currentPage: 1,\n      dataPerPage: 8,\n      loadMore: 0\n    };\n    return _this;\n  }\n\n  _createClass(AllCompanies, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      if (this.props.companiesLoaded !== prevProps.companiesLoaded) {\n        this.setState({\n          data: this.props.companies\n        });\n      }\n    }\n  }, {\n    key: \"searching\",\n    value: function searching(e, searchProp) {\n      var _this$setState;\n\n      this.setState((_this$setState = {}, _defineProperty(_this$setState, searchProp, e.target.value), _defineProperty(_this$setState, \"currentPage\", 1), _this$setState));\n    }\n  }, {\n    key: \"pageClick\",\n    value: function pageClick(e) {\n      this.setState({\n        currentPage: Number(e.target.id),\n        loadMore: 0\n      });\n    }\n  }, {\n    key: \"loadMore\",\n    value: function loadMore(e) {\n      this.setState({\n        loadMore: this.state.loadMore + 1\n      });\n    }\n  }, {\n    key: \"prev\",\n    value: function prev() {\n      this.setState({\n        currentPage: this.state.currentPage + this.state.loadMore - 1,\n        loadMore: 0\n      });\n    }\n  }, {\n    key: \"next\",\n    value: function next() {\n      this.setState({\n        currentPage: this.state.currentPage + this.state.loadMore + 1,\n        loadMore: 0\n      });\n    }\n  }, {\n    key: \"description\",\n    value: function description(_description) {\n      var newDescription = _description.split(' ');\n\n      var newDescriptionString = newDescription.filter(function (word, index) {\n        return index < 10;\n      });\n      return newDescriptionString.join();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var selectSearchData = [];\n      var filterData = [];\n      var companies = [];\n      var _this$state = this.state,\n          search = _this$state.search,\n          type = _this$state.type,\n          currentPage = _this$state.currentPage,\n          dataPerPage = _this$state.dataPerPage,\n          loadMore = _this$state.loadMore;\n\n      if (this.state.data) {\n        companies = this.state.data;\n      }\n\n      companies.reduce(function (acc, item) {\n        acc.push(item.name);\n        return acc;\n      }, selectSearchData);\n      filterData = companies.filter(function (item) {\n        return item.name.toLowerCase().substr(0, search.length) === search.toLowerCase();\n      });\n\n      if (type !== \"\") {\n        filterData = filterData.filter(function (item) {\n          return item.name === type;\n        });\n      }\n\n      var indexOfLastData = currentPage * dataPerPage;\n      var indexOfFirstData = indexOfLastData - dataPerPage;\n      var currentData = filterData.slice(indexOfFirstData, indexOfLastData + loadMore * dataPerPage);\n      var pages = [];\n\n      for (var i = 1; i <= Math.ceil(filterData.length / dataPerPage); i++) {\n        pages.push(i);\n      }\n\n      return this.props.companies ? React.createElement(\"div\", {\n        className: \"container-fluid\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, React.createElement(Searching, Object.assign({}, this.state, {\n        data: companies,\n        searching: this.searching.bind(this),\n        currentDataLength: currentData.length,\n        selectSearchData: selectSearchData,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      })), companies.length ? filterData.length ? React.createElement(\"div\", {\n        className: \"content-grid\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }, currentData.map(function (item) {\n        return React.createElement(TransitionGroup, {\n          className: \"grid\",\n          key: item.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 165\n          },\n          __self: this\n        }, React.createElement(CSSTransition, {\n          in: true,\n          appear: true,\n          timeout: 450,\n          classNames: \"slide\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 166\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"companyUser\",\n          onClick: function onClick() {\n            return _this2.props.addCurrentItem(item);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 172\n          },\n          __self: this\n        }, React.createElement(CompanySvgDiv, {\n          className: \"image-content image-contentCompany\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 173\n          },\n          __self: this\n        }, item.image ? React.createElement(UserImg, {\n          src: item.image,\n          alt: \"Company\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 174\n          },\n          __self: this\n        }) : React.createElement(CompanySvg, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 174\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          className: \"grid-info\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 176\n          },\n          __self: this\n        }, React.createElement(InfoDiv, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 177\n          },\n          __self: this\n        }, React.createElement(CompanyName, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 178\n          },\n          __self: this\n        }, item.name), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 179\n          },\n          __self: this\n        }, item.description), React.createElement(\"div\", {\n          className: \"testsDiv\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 182\n          },\n          __self: this\n        }, React.createElement(NavLinkDiv, {\n          to: {\n            pathname: \"/company-info-page/\".concat(item.name)\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 183\n          },\n          __self: this\n        }, React.createElement(TestsCount, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 187\n          },\n          __self: this\n        }, _this2.getTests(item.id), \" Tests\"))))))));\n      }), React.createElement(Pagination, {\n        load_More: loadMore,\n        loadMore: this.loadMore.bind(this),\n        currentPage: currentPage,\n        prev: this.prev.bind(this),\n        pageClick: this.pageClick.bind(this),\n        next: this.next.bind(this),\n        pages: pages,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200\n        },\n        __self: this\n      })) : React.createElement(NoTests, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210\n        },\n        __self: this\n      }, \"Sorry, nothing was found!\") : React.createElement(LoaderDiv, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211\n        },\n        __self: this\n      }, React.createElement(Loader, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211\n        },\n        __self: this\n      }))) : React.createElement(NoTests, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214\n        },\n        __self: this\n      }, \"THERE IS NO COMPANIES YET\");\n    }\n  }]);\n\n  return AllCompanies;\n}(Component);\n\nfunction mapStateToProps(state) {\n  return {\n    companies: state.appReducer.companies,\n    companiesLoaded: state.appReducer.companiesLoaded,\n    tests: state.appReducer.tests\n  };\n}\n\nexport default connect(mapStateToProps, null)(AllCompanies);","map":{"version":3,"sources":["C:\\Users\\Gohar\\Desktop\\testing-project\\testing-project\\src\\containers\\Pages\\AllCompanies.js"],"names":["React","Component","Searching","Pagination","CSSTransition","TransitionGroup","connect","NavLink","styled","Loader","CompanySvg","CompanySvgDiv","div","NoTests","UserImg","img","LoaderDiv","NavLinkDiv","CompanyName","span","TestsCount","InfoDiv","AllCompanies","props","getTests","companyId","tests","filter","test","length","state","data","companies","search","type","currentPage","dataPerPage","loadMore","prevProps","companiesLoaded","setState","e","searchProp","target","value","Number","id","description","newDescription","split","newDescriptionString","word","index","join","selectSearchData","filterData","reduce","acc","item","push","name","toLowerCase","substr","indexOfLastData","indexOfFirstData","currentData","slice","pages","i","Math","ceil","searching","bind","map","addCurrentItem","image","pathname","prev","pageClick","next","mapStateToProps","appReducer"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport Searching from './Searching';\r\nimport Pagination from './Pagination';\r\nimport { CSSTransition, TransitionGroup } from \"react-transition-group\";\r\nimport { connect } from 'react-redux';\r\nimport { NavLink } from 'react-router-dom';\r\nimport styled  from 'styled-components';\r\nimport Loader from '../../components/Loader';\r\nimport CompanySvg from '../../containers/Pages/CompanyInfoPage/CompanySvg';\r\n\r\nconst CompanySvgDiv = styled.div`\r\n\tmargin: 8px auto;\r\n\twidth: 150px;\r\n\theight: 150px;\r\n\tfill: rgba(16, 5, 41, 1);\r\n\t:hover {\r\n\t\tfill: #FF5959;\r\n\t}\r\n`;\r\n\r\nconst NoTests = styled.div`\r\n\twidth: 1200px;\r\n\tmargin: auto;\r\n\tpadding-top: 100px;\r\n\tfont-size: 28px;\r\n\tcolor: #141218;\r\n\tbox-sizing: border-box;\r\n`;\r\n\r\nconst UserImg = styled.img`\r\n\theight: 110px;\r\n`;\r\nconst LoaderDiv = styled.div`\r\n\ttext-align: center;\r\n\tmargin: 200px 0;\r\n`;\r\nconst NavLinkDiv = styled(NavLink)`\r\n\tcolor: #100529;\r\n\ttext-decoration: none;\r\n`;\r\nconst CompanyName = styled.span`\r\n\tfont-size: 18px;\r\n\ttext-transform: uppercase;\r\n`;\r\nconst TestsCount = styled.span`\r\n\ttext-decoration: underline;\r\n\tcolor: #100529;\r\n\tfont-size: 24px;\r\n`;\r\nconst InfoDiv = styled.div`\r\n\tpadding: 0 8px;\r\n`;\r\n\r\nclass AllCompanies extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tdata: this.props.companies,\r\n\t\t\tsearch: \"\",\r\n\t\t\ttype: \"\",\r\n\t\t\tcurrentPage: 1,\r\n\t\t\tdataPerPage: 8,\r\n\t\t\tloadMore: 0,\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps) {\r\n\t\tif (this.props.companiesLoaded !== prevProps.companiesLoaded) {\r\n\t\t\tthis.setState({ data: this.props.companies });\r\n\t\t}\r\n\t}\r\n\r\n\tsearching(e, searchProp) {\r\n\t\tthis.setState({\r\n\t\t\t[searchProp]: e.target.value,\r\n\t\t\tcurrentPage: 1\r\n\t\t})\r\n\t}\r\n\r\n\tpageClick(e) {\r\n\t\tthis.setState({\r\n\t\t\tcurrentPage: Number(e.target.id),\r\n\t\t\tloadMore: 0\r\n\t\t})\r\n\t}\r\n\r\n\tloadMore(e) {\r\n\t\tthis.setState({ loadMore: this.state.loadMore + 1 })\r\n\t}\r\n\r\n\tprev() {\r\n\t\tthis.setState({\r\n\t\t\tcurrentPage: this.state.currentPage + this.state.loadMore - 1,\r\n\t\t\tloadMore: 0\r\n\t\t})\r\n\t}\r\n\r\n\tnext() {\r\n\t\tthis.setState({\r\n\t\t\tcurrentPage: this.state.currentPage + this.state.loadMore + 1,\r\n\t\t\tloadMore: 0\r\n\t\t})\r\n\t}\r\n\tgetTests = (companyId) => {\r\n\t\tif (this.props.tests) {\r\n\t\t\tlet tests = this.props.tests.filter(test => test.companyId === companyId);\r\n\t\t\treturn tests.length;\r\n\t\t}\r\n\t}\r\n\tdescription(description) {\r\n\t\tlet newDescription = description.split(' ');\r\n\t\tlet newDescriptionString = newDescription.filter((word, index) => index < 10);\r\n\t\treturn newDescriptionString.join( );\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet selectSearchData = [];\r\n\t\tlet filterData = [];\r\n\t\tlet companies = [];\r\n\r\n\t\tconst { search, type, currentPage, dataPerPage, loadMore } = this.state;\r\n\r\n\t\tif (this.state.data) {\r\n\t\t\tcompanies = this.state.data;\r\n\t\t}\r\n\r\n\t\tcompanies.reduce((acc, item) => {\r\n\t\t\tacc.push(item.name);\r\n\t\t\treturn acc\r\n\t\t}, selectSearchData)\r\n\r\n\t\tfilterData = companies.filter(item => {\r\n\t\t\treturn item.name.toLowerCase().substr(0, search.length) === search.toLowerCase()\r\n\t\t})\r\n\r\n\t\tif (type !== \"\") {\r\n\t\t\tfilterData = filterData.filter(item => item.name === type)\r\n\t\t}\r\n\r\n\t\tconst indexOfLastData = currentPage * dataPerPage;\r\n\t\tconst indexOfFirstData = indexOfLastData - dataPerPage;\r\n\t\tconst currentData = filterData.slice(indexOfFirstData, indexOfLastData + loadMore * dataPerPage);\r\n\r\n\t\tconst pages = [];\r\n\t\tfor (let i = 1; i <= Math.ceil(filterData.length / dataPerPage); i++) {\r\n\t\t\tpages.push(i);\r\n\r\n\t\t}\r\n\t\treturn (\r\n\t\t\tthis.props.companies ?\r\n\t\t\t\t<div className=\"container-fluid\">\r\n\t\t\t\t\t<Searching\r\n\t\t\t\t\t\t{...this.state}\r\n\t\t\t\t\t\tdata={companies}\r\n\t\t\t\t\t\tsearching={this.searching.bind(this)}\r\n\t\t\t\t\t\tcurrentDataLength={currentData.length}\r\n\t\t\t\t\t\tselectSearchData={selectSearchData}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{companies.length ?\r\n\t\t\t\t\t\tfilterData.length ?\r\n\t\t\t\t\t\t\t<div className=\"content-grid\">\r\n\t\t\t\t\t\t\t\t{currentData.map(item => {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<TransitionGroup className=\"grid\" key={item.id}>\r\n\t\t\t\t\t\t\t\t\t<CSSTransition\r\n\t\t\t\t\t\t\t\t\t\tin={true}\r\n\t\t\t\t\t\t\t\t\t\tappear={true}\r\n\t\t\t\t\t\t\t\t\t\ttimeout={450}\r\n\t\t\t\t\t\t\t\t\t\tclassNames=\"slide\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"companyUser\" onClick={() => this.props.addCurrentItem(item)} >\r\n\t\t\t\t\t\t\t\t\t\t\t<CompanySvgDiv className=\"image-content image-contentCompany\"> \r\n\t\t\t\t\t\t\t\t\t\t\t\t{item.image ? <UserImg src={item.image} alt=\"Company\"  /> : <CompanySvg />}\r\n\t\t\t\t\t\t\t\t\t\t\t</CompanySvgDiv>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"grid-info\">\r\n\t\t\t\t\t\t\t\t\t\t\t<InfoDiv>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<CompanyName>{item.name}</CompanyName>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{item.description}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"testsDiv\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<NavLinkDiv to={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tpathname: `/company-info-page/${item.name}`,\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}  >\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TestsCount>{this.getTests(item.id)} Tests</TestsCount>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</NavLinkDiv >\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</InfoDiv>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t</CSSTransition>\r\n\t\t\t\t\t\t\t\t</TransitionGroup>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t<Pagination\r\n\t\t\t\t\t\t\t\t\tload_More={loadMore}\r\n\t\t\t\t\t\t\t\t\tloadMore={this.loadMore.bind(this)}\r\n\t\t\t\t\t\t\t\t\tcurrentPage={currentPage}\r\n\t\t\t\t\t\t\t\t\tprev={this.prev.bind(this)}\r\n\t\t\t\t\t\t\t\t\tpageClick={this.pageClick.bind(this)}\r\n\t\t\t\t\t\t\t\t\tnext={this.next.bind(this)}\r\n\t\t\t\t\t\t\t\t\tpages={pages}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t: <NoTests>Sorry, nothing was found!</NoTests>\r\n\t\t\t\t\t\t: <LoaderDiv><Loader /></LoaderDiv>\r\n\t\t\t\t\t}\r\n\t\t\t\t</div>\r\n\t\t\t\t: <NoTests>THERE IS NO COMPANIES YET</NoTests>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t\tcompanies: state.appReducer.companies,\r\n\t\tcompaniesLoaded: state.appReducer.companiesLoaded,\r\n\t\ttests: state.appReducer.tests,\r\n\t}\r\n\r\n}\r\n\r\nexport default connect(mapStateToProps, null)(AllCompanies)"]},"metadata":{},"sourceType":"module"}