{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\Gohar\\\\Desktop\\\\testing-project\\\\testing-project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"C:\\\\Users\\\\Gohar\\\\Desktop\\\\testing-project\\\\testing-project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Gohar\\\\Desktop\\\\testing-project\\\\testing-project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Gohar\\\\Desktop\\\\testing-project\\\\testing-project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Gohar\\\\Desktop\\\\testing-project\\\\testing-project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Gohar\\\\Desktop\\\\testing-project\\\\testing-project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _taggedTemplateLiteral from \"C:\\\\Users\\\\Gohar\\\\Desktop\\\\testing-project\\\\testing-project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"C:\\\\Users\\\\Gohar\\\\Desktop\\\\testing-project\\\\testing-project\\\\src\\\\containers\\\\Pages\\\\UserProfile.js\";\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n\\tbox-sizing: border-box;\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { Component } from 'react';\nimport PassedTests from './PassedTests';\nimport UserSvg from './UserSvg';\nimport * as firebase from \"firebase\";\nimport { storage } from '../../firebase/firebase';\nimport styled from 'styled-components';\nvar Main = styled.div(_templateObject());\n\nvar UserProfile =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(UserProfile, _Component);\n\n  function UserProfile(props) {\n    var _this;\n\n    _classCallCheck(this, UserProfile);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(UserProfile).call(this, props));\n    _this.state = {\n      image: null,\n      url: _this.props.user.image,\n      progress: 0,\n      popup: false,\n      firstName: _this.props.user.firstName,\n      lastName: _this.props.user.lastName,\n      description: _this.props.user.description,\n      languages: _this.props.user.languages\n    };\n    return _this;\n  }\n\n  _createClass(UserProfile, [{\n    key: \"changeField\",\n    value: function changeField(e, field) {\n      this.setState(_defineProperty({}, field, e.target.value));\n    }\n  }, {\n    key: \"editData\",\n    value: function editData() {\n      var obj = this.props.user;\n      obj.firstName = this.state.firstName;\n      obj.lastName = this.state.lastName;\n      obj.description = this.state.description;\n      obj.languages = this.state.languages;\n      firebase.database().ref(\"user/\".concat(this.props.user.id)).set(obj);\n    }\n  }, {\n    key: \"changeCheckboxHandler\",\n    value: function changeCheckboxHandler(e, lang) {\n      var languages = this.state.languages;\n\n      if (e.target.checked) {\n        languages.push(lang);\n      } else {\n        languages = languages.filter(function (item) {\n          return item !== lang;\n        });\n      }\n\n      this.setState({\n        languages: languages\n      });\n      console.log(languages);\n    }\n  }, {\n    key: \"chooseImg\",\n    value: function chooseImg(e) {\n      var _this2 = this;\n\n      if (e.target.files[0]) {\n        var image = e.target.files[0];\n        this.setState({\n          image: image\n        });\n        setTimeout(function () {\n          _this2.handleUpload();\n        }, 100);\n      }\n    }\n  }, {\n    key: \"createPopup\",\n    value: function createPopup() {\n      this.setState({\n        popup: true\n      });\n    }\n  }, {\n    key: \"removePopup\",\n    value: function removePopup() {\n      this.setState({\n        popup: false\n      });\n    }\n  }, {\n    key: \"handleUpload\",\n    value: function handleUpload() {\n      var _this3 = this;\n\n      var image = this.state.image;\n\n      if (image) {\n        var uploadImage = storage.ref(\"images/\".concat(this.props.user.id, \"/\").concat(image.name)).put(image);\n        uploadImage.on('state_changed', function (snapshot) {\n          var progress = Math.round(snapshot.bytesTransferred / snapshot.totalBytes * 100);\n\n          _this3.setState({\n            progress: progress\n          });\n        }, function (error) {}, function () {\n          storage.ref(\"images/\".concat(_this3.props.user.id)).child(image.name).getDownloadURL().then(function (url) {\n            _this3.setState({\n              url: url\n            });\n          });\n        });\n      }\n    }\n  }, {\n    key: \"checked\",\n    value: function checked(skill) {\n      return this.state.languages.some(function (item) {\n        return item === skill;\n      });\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      if (prevState.url !== this.state.url) {\n        firebase.database().ref(\"user/\".concat(this.props.user.id)).child('image').set(this.state.url);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      var languages = ['HTML', 'CSS', 'JavaScript', 'Java', 'Python', 'C#', 'Ruby', 'Swift', 'React', 'Redux', 'C++', 'PHP', 'MySQL'];\n\n      function skills(arr) {\n        return arr.join(', ');\n      }\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, this.state.popup && React.createElement(\"div\", {\n        className: \"popupOverlay\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"popupOverlay__content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"popupOverlay__content__setting\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        onClick: this.removePopup.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, \"Close\")), React.createElement(\"hr\", {\n        style: {\n          margin: \"0 0 20px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, \"Name:\"), React.createElement(\"input\", {\n        type: \"text\",\n        value: this.state.firstName,\n        onChange: function onChange(e) {\n          return _this4.changeField(e, 'firstName');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, \"Surname:\"), React.createElement(\"input\", {\n        type: \"text\",\n        value: this.state.lastName,\n        onChange: function onChange(e) {\n          return _this4.changeField(e, 'lastName');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, \"About Yourself:\"), React.createElement(\"textarea\", {\n        value: this.state.description,\n        onChange: function onChange(e) {\n          return _this4.changeField(e, 'description');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, this.state.description), React.createElement(\"div\", {\n        className: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, languages.map(function (item, index) {\n        return React.createElement(\"div\", {\n          className: \"popup--skill skill\",\n          key: index,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 137\n          },\n          __self: this\n        }, React.createElement(\"input\", {\n          type: \"checkbox\",\n          onChange: function onChange(e) {\n            return _this4.changeCheckboxHandler(e, item);\n          },\n          checked: _this4.checked(item),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 138\n          },\n          __self: this\n        }), React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 142\n          },\n          __self: this\n        }, item));\n      }))), React.createElement(\"hr\", {\n        style: {\n          margin: \"20px 0\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"popupOverlay__content__setting\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"blue\",\n        onClick: this.editData.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, \"Edit\")))), React.createElement(Main, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"userContent company-profile\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"profile-logo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"image-content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }, this.state.url ? React.createElement(\"img\", {\n        src: this.state.url,\n        alt: \"Upload\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }) : React.createElement(UserSvg, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }), this.state.url && React.createElement(\"div\", {\n        className: \"uploadOverlay\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      })), this.state.progress !== 0 && React.createElement(\"progress\", {\n        value: this.state.progress,\n        className: \"progress red upload-progress\",\n        max: \"100\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"file\",\n        name: \"file\",\n        id: \"file\",\n        className: \"upload\",\n        onChange: this.chooseImg.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"infoUser\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }, \"\".concat(this.props.user.firstName, \" \").concat(this.props.user.lastName)), React.createElement(\"div\", {\n        className: \"skillsDivUser\",\n        style: {\n          margin: \"20px 0\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        style: {\n          color: \"grey\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }, \"Skills: \"), React.createElement(\"span\", {\n        className: \"orange\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }, \" \", skills(this.props.user.languages), \" \")), React.createElement(\"div\", {\n        style: {\n          padding: \"20px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      }, this.props.user.description))), React.createElement(\"div\", {\n        className: \"settings\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        onClick: this.createPopup.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180\n        },\n        __self: this\n      }, \"Edit Profie\")), React.createElement(\"div\", {\n        className: \"labelHeader\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      }, \"Passed Tests\"), React.createElement(PassedTests, {\n        user: this.props.user,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return UserProfile;\n}(Component);\n\nexport { UserProfile as default };","map":{"version":3,"sources":["C:\\Users\\Gohar\\Desktop\\testing-project\\testing-project\\src\\containers\\Pages\\UserProfile.js"],"names":["React","Component","PassedTests","UserSvg","firebase","storage","styled","Main","div","UserProfile","props","state","image","url","user","progress","popup","firstName","lastName","description","languages","e","field","setState","target","value","obj","database","ref","id","set","lang","checked","push","filter","item","console","log","files","setTimeout","handleUpload","uploadImage","name","put","on","snapshot","Math","round","bytesTransferred","totalBytes","error","child","getDownloadURL","then","skill","some","prevProps","prevState","skills","arr","join","removePopup","bind","margin","changeField","map","index","changeCheckboxHandler","editData","chooseImg","color","padding","createPopup"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport PassedTests from './PassedTests';\r\nimport UserSvg from './UserSvg';\r\nimport * as firebase from \"firebase\";\r\nimport {storage} from '../../firebase/firebase'\r\nimport styled from 'styled-components';\r\n\r\nconst Main = styled.div`\r\n\tbox-sizing: border-box;\r\n`;\r\n\r\nexport default class UserProfile extends Component {\r\n\tconstructor(props){\r\n\t\tsuper(props)\r\n\r\n\t\tthis.state = {\r\n            image: null,\r\n            url: this.props.user.image,\r\n            progress: 0,\r\n            popup: false,\r\n            firstName: this.props.user.firstName,\r\n            lastName: this.props.user.lastName,\r\n            description: this.props.user.description,\r\n            languages: this.props.user.languages\r\n        }\r\n\t}\r\n\r\n\tchangeField(e, field) {\r\n        this.setState({\r\n            [field]: e.target.value,\r\n        })\r\n    }\r\n\r\n    editData () {\r\n    \tlet obj = this.props.user;\r\n    \t\tobj.firstName = this.state.firstName;\r\n            obj.lastName = this.state.lastName;\r\n            obj.description = this.state.description;\r\n            obj.languages = this.state.languages\r\n    \t\tfirebase.database().ref(`user/${this.props.user.id}`).set(obj);\r\n    }\r\n\r\n\tchangeCheckboxHandler(e, lang) {\r\n        let languages = this.state.languages;\r\n        if (e.target.checked) {\r\n            languages.push(lang);\r\n        } else {\r\n            languages = languages.filter(item => item !== lang);\r\n        }\r\n        this.setState({ languages });\r\n        console.log(languages)\r\n    }\r\n\r\n\tchooseImg (e) {\r\n        if(e.target.files[0]){\r\n            const image = e.target.files[0];\r\n            this.setState({image})\r\n            setTimeout(() => {\r\n            \tthis.handleUpload()\r\n            }, 100)\r\n\r\n\r\n        }\r\n    }\r\n\r\n    createPopup(){\r\n        this.setState({popup: true})\r\n    }\r\n\r\n    removePopup(){\r\n        this.setState({popup: false})\r\n    }\r\n\r\n    handleUpload () {\r\n\r\n        const { image } = this.state;\r\n        if(image){\r\n        const uploadImage = storage.ref(`images/${this.props.user.id}/${image.name}`).put(image);\r\n\r\n        \r\n            uploadImage.on('state_changed',\r\n            (snapshot) => {\r\n                const progress = Math.round((snapshot.bytesTransferred / snapshot.totalBytes) * 100);\r\n                this.setState({progress})\r\n            },\r\n            (error) => {\r\n                \r\n            },\r\n            () => {\r\n                storage.ref(`images/${this.props.user.id}`).child(image.name).getDownloadURL().then(url => {\r\n                    \r\n                    this.setState({url})\r\n                })\r\n            })\r\n        }\r\n\r\n    }\r\n\r\n    checked (skill) {\r\n\t\treturn this.state.languages.some(item => item === skill)\r\n\t}\r\n\r\n    componentDidUpdate (prevProps, prevState) {\r\n        if(prevState.url !== this.state.url){\r\n            firebase.database().ref(`user/${this.props.user.id}`).child('image').set(this.state.url);\r\n           \r\n            \r\n        }\r\n    }\r\n\r\n\trender(){\r\n\t\tconst languages = ['HTML', 'CSS', 'JavaScript', 'Java', 'Python', 'C#', 'Ruby', 'Swift', 'React', 'Redux', 'C++', 'PHP', 'MySQL'];\r\n\t\tfunction skills(arr) {\r\n\t\t\treturn arr.join(', ')\r\n\t\t}\r\n\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t{this.state.popup && <div className=\"popupOverlay\">\r\n                                    <div className=\"popupOverlay__content\">\r\n                                        <div className=\"popupOverlay__content__setting\">\r\n                                            <span onClick={this.removePopup.bind(this)}>Close</span>\r\n                                        </div>\r\n                                        <hr style={{margin: \"0 0 20px\"}} />\r\n                                        <div className=\"content\">\r\n                                            <label>Name:</label>\r\n                                            <input type=\"text\" value={this.state.firstName} onChange={(e) => this.changeField(e, 'firstName') } />\r\n                                            <label>Surname:</label>\r\n                                            <input type=\"text\" value={this.state.lastName} onChange={(e) => this.changeField(e, 'lastName') } />\r\n                                            <label>About Yourself:</label>\r\n                                            <textarea value={this.state.description} onChange={(e) => this.changeField(e, 'description') }>{this.state.description}</textarea>\r\n                                            <div className=\"\">\r\n\t\t\t\t                                {\r\n\t\t\t\t                                    languages.map((item, index) => {\r\n\t\t\t\t                                        return (\r\n\t\t\t\t                                            <div className=\"popup--skill skill\" key={index}>\r\n\t\t\t\t                                                <input\r\n\t\t\t\t                                                    type=\"checkbox\"\r\n\t\t\t\t                                                    onChange={e => this.changeCheckboxHandler(e, item)}\r\n\t\t\t\t                                                    checked={this.checked(item)} />\r\n\t\t\t\t                                                <span>{item}</span>\r\n\t\t\t\t                                            </div>\r\n\t\t\t\t                                        )\r\n\t\t\t\t                                    })\r\n\t\t\t\t                                }\r\n\t\t\t\t                            </div>\r\n                                        </div>\r\n                                        <hr style={{margin: \"20px 0\"}} />\r\n                                        <div className=\"popupOverlay__content__setting\">\r\n                                            <span className=\"blue\" onClick={this.editData.bind(this)}>Edit</span>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>}\r\n\t\t\t\t<Main>\r\n\t\t\t\t\t<div className=\"userContent company-profile\">\r\n\t\t\t\t\t\t<div className='profile-logo' > \r\n\t                        <div className=\"image-content\">\r\n\t                            {this.state.url ? <img src={this.state.url} alt=\"Upload\" /> : <UserSvg /> }\r\n\t                            {this.state.url && <div className='uploadOverlay'></div>}\r\n\t                           \r\n\t                        </div>\r\n\t                        {this.state.progress !== 0 && <progress value={this.state.progress} className=\"progress red upload-progress\" max=\"100\" ></progress>}\r\n\t                        <input type=\"file\" name=\"file\" id=\"file\" className=\"upload\" onChange={this.chooseImg.bind(this)}  />\r\n\t                        \r\n\t                        \r\n\t                    </div>\r\n\t\t\t\t\t\t<div className=\"infoUser\">\r\n\t\t\t\t\t\t\t<h2>{`${this.props.user.firstName} ${this.props.user.lastName}`}</h2>\r\n\t\t\t\t\t\t\t<div className=\"skillsDivUser\" style={{margin: \"20px 0\"}}>\r\n\t\t\t\t\t\t\t\t<span style={{color: \"grey\"}}>Skills: </span>\r\n\t\t\t\t\t\t\t\t<span className=\"orange\"> {skills(this.props.user.languages)} </span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div style={{padding: \"20px\"}}>\r\n\t\t\t\t\t\t\t\t{this.props.user.description}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"settings\">\r\n\t\t\t\t\t\t<span onClick={this.createPopup.bind(this)}>Edit Profie</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"labelHeader\">Passed Tests</div>\r\n\t\t\t\t\t<PassedTests user={this.props.user} />\r\n\t\t\t\t</Main>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n}"]},"metadata":{},"sourceType":"module"}