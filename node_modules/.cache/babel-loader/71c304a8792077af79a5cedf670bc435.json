{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\Gohar\\\\Desktop\\\\testing-project\\\\testing-project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _defineProperty from \"C:\\\\Users\\\\Gohar\\\\Desktop\\\\testing-project\\\\testing-project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"C:\\\\Users\\\\Gohar\\\\Desktop\\\\testing-project\\\\testing-project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Gohar\\\\Desktop\\\\testing-project\\\\testing-project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Gohar\\\\Desktop\\\\testing-project\\\\testing-project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Gohar\\\\Desktop\\\\testing-project\\\\testing-project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Gohar\\\\Desktop\\\\testing-project\\\\testing-project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\Gohar\\\\Desktop\\\\testing-project\\\\testing-project\\\\src\\\\components\\\\Autorization\\\\registration\\\\CompanyRegistration.js\";\nimport React, { Component } from 'react';\nimport ImgComponent from \"./ImgComponent\";\nimport InfoComponent from \"./InfoComponent\";\nimport * as firebase from \"firebase\";\n\nvar CompanyRegistration =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(CompanyRegistration, _Component);\n\n  function CompanyRegistration(props) {\n    var _this;\n\n    _classCallCheck(this, CompanyRegistration);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(CompanyRegistration).call(this, props));\n    _this.state = {\n      name: '',\n      surname: '',\n      phone: '',\n      email: '',\n      password: '',\n      image: ''\n    };\n    return _this;\n  }\n\n  _createClass(CompanyRegistration, [{\n    key: \"changeField\",\n    value: function changeField(e, field) {\n      this.setState(_defineProperty({}, field, e.target.value));\n    } //\n    // componentDidMount() {\n    //     const db = firebase.database();\n    //     console.log(db.ref().child('companies'). ===' ');\n    // }\n\n  }, {\n    key: \"makeRequeststoFirebase\",\n    value: function makeRequeststoFirebase() {\n      var db = firebase.database();\n      var path = 'companies';\n\n      var singleCompanie = _objectSpread({}, this.state); // db um sarqum em companies array u iran talis em singlecompanie\n\n\n      db.ref(path).push(singleCompanie); // db.ref(path).once('value')\n      //     .then(snapshot => {\n      //         const companies = [];\n      //         snapshot.forEach(childSnapshot => {\n      //             companies.push({\n      //                 id: childSnapshot.key,\n      //                 ...childSnapshot.val()\n      //             })\n      //         });\n      //         console.log(companies)\n      //     });\n\n      db.ref(path).on('value', function (snapshot) {\n        var companies = [];\n        snapshot.forEach(function (childSnapshot) {\n          companies.push(_objectSpread({\n            id: childSnapshot.key\n          }, childSnapshot.val()));\n        });\n        console.log(companies);\n      });\n      this.setState({\n        name: '',\n        surname: '',\n        phone: '',\n        email: '',\n        password: '',\n        image: ''\n      });\n    }\n  }, {\n    key: \"signUpCompany\",\n    value: function signUpCompany() {\n      firebase.auth().createUserWithEmailAndPassword(this.state.email, this.state.password).catch(function (error) {\n        console.log(error);\n      });\n    }\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit(e) {\n      e.preventDefault();\n      this.makeRequeststoFirebase();\n      this.signUpCompany();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          name = _this$state.name,\n          surname = _this$state.surname,\n          email = _this$state.email,\n          phone = _this$state.phone,\n          password = _this$state.password,\n          img = _this$state.img;\n      return React.createElement(\"form\", {\n        onSubmit: this.handleSubmit.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"registration\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, \"Registration\"), React.createElement(ImgComponent, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }), React.createElement(InfoComponent, {\n        changeField: this.changeField.bind(this),\n        arr: [name, surname, email, phone, password],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return CompanyRegistration;\n}(Component);\n\nexport default CompanyRegistration; // createUser() {\n//     const user = firebase.auth();\n//     user.createUserWithEmailAndPassword(this.state.email, this.state.password)\n//         .then(res => {\n//             console.log(res)\n//             user.currentUser.sendEmailVerification();\n//         });\n// }","map":{"version":3,"sources":["C:\\Users\\Gohar\\Desktop\\testing-project\\testing-project\\src\\components\\Autorization\\registration\\CompanyRegistration.js"],"names":["React","Component","ImgComponent","InfoComponent","firebase","CompanyRegistration","props","state","name","surname","phone","email","password","image","e","field","setState","target","value","db","database","path","singleCompanie","ref","push","on","snapshot","companies","forEach","childSnapshot","id","key","val","console","log","auth","createUserWithEmailAndPassword","catch","error","preventDefault","makeRequeststoFirebase","signUpCompany","img","handleSubmit","bind","changeField"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport ImgComponent from \"./ImgComponent\";\r\nimport InfoComponent from \"./InfoComponent\";\r\nimport * as firebase from \"firebase\";\r\n\r\nclass CompanyRegistration extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            name: '',\r\n            surname: '',\r\n            phone: '',\r\n            email: '',\r\n            password: '',\r\n            image: '',\r\n        }\r\n    }\r\n\r\n\r\n    changeField(e, field) {\r\n        this.setState({\r\n            [field]: e.target.value,\r\n        })\r\n    }\r\n\r\n    //\r\n    // componentDidMount() {\r\n    //     const db = firebase.database();\r\n    //     console.log(db.ref().child('companies'). ===' ');\r\n    // }\r\n\r\n    makeRequeststoFirebase() {\r\n\r\n        const db = firebase.database();\r\n        const path = 'companies';\r\n        const singleCompanie = {...this.state};\r\n\r\n        // db um sarqum em companies array u iran talis em singlecompanie\r\n        db.ref(path).push(singleCompanie);\r\n\r\n\r\n        // db.ref(path).once('value')\r\n        //     .then(snapshot => {\r\n        //         const companies = [];\r\n        //         snapshot.forEach(childSnapshot => {\r\n        //             companies.push({\r\n        //                 id: childSnapshot.key,\r\n        //                 ...childSnapshot.val()\r\n        //             })\r\n        //         });\r\n        //         console.log(companies)\r\n        //     });\r\n\r\n\r\n\r\n\r\n\r\n        db.ref(path).on('value',(snapshot)=>{\r\n            const companies = [];\r\n            snapshot.forEach(childSnapshot => {\r\n                companies.push({\r\n                    id: childSnapshot.key,\r\n                    ...childSnapshot.val()\r\n                })\r\n            });\r\n            console.log(companies)\r\n        });\r\n\r\n        this.setState({\r\n            name: '',\r\n            surname: '',\r\n            phone: '',\r\n            email: '',\r\n            password: '',\r\n            image: '',\r\n        });\r\n\r\n\r\n    }\r\n\r\n    signUpCompany(){\r\n        firebase.auth().createUserWithEmailAndPassword(this.state.email, this.state.password)\r\n            .catch(function (error) {\r\n\r\n                console.log(error);\r\n            });\r\n    }\r\n\r\n    handleSubmit(e) {\r\n        e.preventDefault();\r\n        this.makeRequeststoFirebase();\r\n        this.signUpCompany();\r\n    }\r\n\r\n\r\n    render() {\r\n        const {name, surname, email, phone, password, img} = this.state;\r\n\r\n        return (\r\n            <form onSubmit={this.handleSubmit.bind(this)}>\r\n\r\n                <div className='registration'>\r\n                    <h2>Registration</h2>\r\n                    <ImgComponent/>\r\n                    <InfoComponent\r\n                        changeField={this.changeField.bind(this)}\r\n                        arr={[name, surname, email, phone, password]}\r\n                    />\r\n\r\n                    <input type=\"submit\"/>\r\n                </div>\r\n\r\n\r\n            </form>\r\n\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default CompanyRegistration;\r\n\r\n\r\n// createUser() {\r\n//     const user = firebase.auth();\r\n//     user.createUserWithEmailAndPassword(this.state.email, this.state.password)\r\n//         .then(res => {\r\n//             console.log(res)\r\n//             user.currentUser.sendEmailVerification();\r\n//         });\r\n// }"]},"metadata":{},"sourceType":"module"}