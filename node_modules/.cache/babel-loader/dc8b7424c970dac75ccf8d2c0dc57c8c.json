{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\Gohar\\\\Desktop\\\\testing-project\\\\testing-project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"C:\\\\Users\\\\Gohar\\\\Desktop\\\\testing-project\\\\testing-project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Gohar\\\\Desktop\\\\testing-project\\\\testing-project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Gohar\\\\Desktop\\\\testing-project\\\\testing-project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Gohar\\\\Desktop\\\\testing-project\\\\testing-project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Gohar\\\\Desktop\\\\testing-project\\\\testing-project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _taggedTemplateLiteral from \"C:\\\\Users\\\\Gohar\\\\Desktop\\\\testing-project\\\\testing-project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"C:\\\\Users\\\\Gohar\\\\Desktop\\\\testing-project\\\\testing-project\\\\src\\\\components\\\\TestCreator\\\\QuestionCreator\\\\QuestionEditor.js\";\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n\\tmax-width:  \", \";\\n\\twidth: \", \";\\n\\tbox-sizing: border-box;\\n\\t@media screen and (max-width: 1190px) {\\n\\t\\tmin-width: 99%;\\n\\t}\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n\\tdisplay: flex;\\n\\tflex-direction: row;\\n\\talign-items: flex-start;\\n\\tmargin: 15px 0;\\n\\twidth: \", \";\\n\\tbox-sizing: border-box;\\n\\n\\t@media screen and (max-width: 1190px) {\\n\\t\\tflex-wrap:  \", \";\\n\\t\\tmin-width: 100%;\\n\\t\\tmax-width: 100%;\\n\\t}\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n\\tmargin: 30px 0;\\n\\tposition: relative;\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { Component } from 'react';\nimport styled from 'styled-components';\nimport { connect } from 'react-redux';\nimport { changeTotalScore as _changeTotalScore, questionValid as _questionValid, questionNotValid as _questionNotValid, answerNotValid } from '../../../store/actions/testCreator';\nimport DeleteQuestion from './QuestionComponents/DeleteQuestion';\nimport QuestionScore from './QuestionComponents/QuestionScore';\nimport QuestionTitle from './QuestionComponents/QuestionTitle';\nimport AnswersCounter from './QuestionComponents/AnswersCounter';\nimport QuestionRightAnswer from './QuestionComponents/QuestionRightAnswer';\nimport DeleteAnswer from '../AnswerCreator/DeleteAnswer';\nimport OneAnswer from '../AnswerCreator/OneAnswer';\nimport InvalidRadioFlag from './QuestionComponents/InvalidRadioFlag';\nvar Question = styled.div(_templateObject());\nvar FlexRow = styled.div(_templateObject2(), function (props) {\n  return props.width || '100%';\n}, function (props) {\n  return props.wrap || 'wrap';\n});\nvar FlexChild = styled.div(_templateObject3(), function (props) {\n  return props.maxWidth || '100%';\n}, function (props) {\n  return props.width || '100%';\n});\n\nvar QuestionEditor =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(QuestionEditor, _Component);\n\n  function QuestionEditor(props) {\n    var _this;\n\n    _classCallCheck(this, QuestionEditor);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(QuestionEditor).call(this, props));\n\n    _this.isFilled = function (inputValue) {\n      return !inputValue && _this.props.submitted ? true : false;\n    };\n\n    _this.getInputValue = function (e, field) {\n      var value = e.target.value; // value = this.props.clearWordFromSpaces(value);\n\n      if (e.target.type === 'number') {\n        if (value < 0) {\n          value = +value * -1;\n        } else if (value > 0) {\n          value = +value;\n        } else {\n          value = '';\n        }\n      }\n\n      _this.setState(_defineProperty({}, field, value));\n    };\n\n    _this.getAnswersValues = function (id, title) {\n      var answers = _this.state.answers.map(function (answer) {\n        if (answer.id === id) {\n          answer.title = _this.props.clearWordFromSpaces(title);\n        }\n\n        return answer;\n      });\n\n      _this.setState({\n        answers: answers\n      });\n    };\n\n    _this.answersCountHandler = function (actionName) {\n      var id = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n\n      if (actionName === 'minus') {\n        if (_this.state.answers.length > 2) {\n          var answers = _this.state.answers;\n          answers.pop();\n\n          _this.setState({\n            answers: answers\n          });\n        }\n      }\n\n      if (actionName === 'plus') {\n        _this.props.ansnwerNotValid();\n\n        var newAnswer = {\n          id: Date.now(),\n          title: ''\n        };\n\n        if (_this.state.answers.length < 5) {\n          _this.setState({\n            answers: _this.state.answers.concat(newAnswer)\n          });\n        }\n      }\n\n      if (actionName === 'delete') {\n        if (_this.state.answers.length > 2) {\n          _this.setState({\n            answers: _this.state.answers.filter(function (answer) {\n              return answer.id !== id;\n            })\n          });\n\n          +_this.state.isRight === id && _this.setState({\n            isRight: 0\n          });\n        }\n      }\n    };\n\n    _this.isQuestionValid = function () {\n      if (_this.state.isRight && _this.state.questionTitle && _this.state.score && _this.props.submitted) {\n        _this.props.questionValid();\n      } else {\n        _this.props.questionNotValid();\n      }\n    };\n\n    _this.state = {\n      id: _this.props.id,\n      answers: _this.props.question.answers,\n      isRight: _this.props.question.isRight,\n      questionTitle: _this.props.question.questionTitle,\n      score: _this.props.question.score\n    };\n    return _this;\n  }\n\n  _createClass(QuestionEditor, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      if (this.props.submitted !== prevProps.submitted || this.props.submitted && (this.state.questionTitle !== prevState.questionTitle || this.state.isRight !== prevState.isRight || this.state.score !== prevState.score || this.state.answers.length !== prevState.answers.length || this.props.questionsCount !== prevProps.questionsCount)) {\n        this.isQuestionValid();\n        this.props.getQuestionValues(this.props.id, this.state);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(Question, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, React.createElement(FlexRow, {\n        width: '98%',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, React.createElement(FlexChild, {\n        width: '1068px',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, React.createElement(DeleteQuestion, {\n        score: this.state.score,\n        id: this.state.id,\n        count: this.props.count,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }), React.createElement(QuestionTitle, {\n        count: this.props.count,\n        getInputValue: this.getInputValue,\n        value: this.state.questionTitle,\n        isFilled: this.isFilled,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      })), React.createElement(QuestionScore, {\n        getInputValue: this.getInputValue,\n        value: this.state.score,\n        isFilled: this.isFilled,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      })), React.createElement(FlexRow, {\n        width: '98%',\n        wrap: 'wrap-reverse',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, React.createElement(FlexChild, {\n        maxWidth: '1060px',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }, !this.state.isRight && this.props.submitted && React.createElement(InvalidRadioFlag, {\n        count: this.props.count,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }), this.state.answers.map(function (input, index) {\n        return React.createElement(FlexRow, {\n          key: input.id,\n          width: '100%',\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 161\n          },\n          __self: this\n        }, React.createElement(QuestionRightAnswer, {\n          getInputValue: _this2.getInputValue,\n          id: input.id,\n          value: input.isRight,\n          checked: input.id === _this2.state.isRight ? true : false,\n          name: _this2.state.id,\n          count: index + 1,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 162\n          },\n          __self: this\n        }), React.createElement(OneAnswer, {\n          count: index + 1,\n          id: input.id,\n          value: input.title,\n          isFilled: _this2.isFilled,\n          getAnswersValues: _this2.getAnswersValues,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 170\n          },\n          __self: this\n        }), _this2.state.answers.length > 2 ? React.createElement(DeleteAnswer, {\n          answersCountHandler: _this2.answersCountHandler,\n          id: input.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 178\n          },\n          __self: this\n        }) : '');\n      })), React.createElement(AnswersCounter, {\n        answersCountHandler: this.answersCountHandler,\n        answersCount: this.state.answers.length,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return QuestionEditor;\n}(Component);\n\nfunction mapStateToProps(state) {\n  return {\n    totalScore: state.testCreator.totalScore,\n    submitted: state.testCreator.submitted,\n    questionsCount: state.testCreator.questions.length\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    changeTotalScore: function changeTotalScore(score) {\n      return dispatch(_changeTotalScore(score));\n    },\n    questionValid: function questionValid() {\n      return dispatch(_questionValid());\n    },\n    questionNotValid: function questionNotValid() {\n      return dispatch(_questionNotValid());\n    },\n    ansnwerNotValid: function ansnwerNotValid() {\n      return dispatch(answerNotValid());\n    }\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(QuestionEditor);","map":{"version":3,"sources":["C:\\Users\\Gohar\\Desktop\\testing-project\\testing-project\\src\\components\\TestCreator\\QuestionCreator\\QuestionEditor.js"],"names":["React","Component","styled","connect","changeTotalScore","questionValid","questionNotValid","answerNotValid","DeleteQuestion","QuestionScore","QuestionTitle","AnswersCounter","QuestionRightAnswer","DeleteAnswer","OneAnswer","InvalidRadioFlag","Question","div","FlexRow","props","width","wrap","FlexChild","maxWidth","QuestionEditor","isFilled","inputValue","submitted","getInputValue","e","field","value","target","type","setState","getAnswersValues","id","title","answers","state","map","answer","clearWordFromSpaces","answersCountHandler","actionName","length","pop","ansnwerNotValid","newAnswer","Date","now","concat","filter","isRight","isQuestionValid","questionTitle","score","question","prevProps","prevState","questionsCount","getQuestionValues","count","input","index","mapStateToProps","totalScore","testCreator","questions","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport styled from 'styled-components'\r\nimport {connect} from 'react-redux';\r\nimport {changeTotalScore, questionValid, questionNotValid, answerNotValid} from '../../../store/actions/testCreator';\r\nimport DeleteQuestion from './QuestionComponents/DeleteQuestion';\r\nimport QuestionScore from './QuestionComponents/QuestionScore';\r\nimport QuestionTitle from './QuestionComponents/QuestionTitle';\r\nimport AnswersCounter from './QuestionComponents/AnswersCounter';\r\nimport QuestionRightAnswer from './QuestionComponents/QuestionRightAnswer';\r\nimport DeleteAnswer from '../AnswerCreator/DeleteAnswer';\r\nimport OneAnswer from '../AnswerCreator/OneAnswer';\r\nimport InvalidRadioFlag from './QuestionComponents/InvalidRadioFlag';\r\n\r\nconst Question = styled.div`\r\n\tmargin: 30px 0;\r\n\tposition: relative;\r\n`;\r\nconst FlexRow = styled.div`\r\n\tdisplay: flex;\r\n\tflex-direction: row;\r\n\talign-items: flex-start;\r\n\tmargin: 15px 0;\r\n\twidth: ${props => props.width || '100%'};\r\n\tbox-sizing: border-box;\r\n\r\n\t@media screen and (max-width: 1190px) {\r\n\t\tflex-wrap:  ${props => props.wrap || 'wrap'};\r\n\t\tmin-width: 100%;\r\n\t\tmax-width: 100%;\r\n\t}\r\n`;\r\nconst FlexChild = styled.div`\r\n\tmax-width:  ${props => props.maxWidth || '100%'};\r\n\twidth: ${props => props.width || '100%'};\r\n\tbox-sizing: border-box;\r\n\t@media screen and (max-width: 1190px) {\r\n\t\tmin-width: 99%;\r\n\t}\r\n`;\r\n\r\nclass QuestionEditor extends Component {\r\n   \tconstructor(props) {\r\n\t\tsuper(props);\r\n  \t\tthis.state = {\r\n\t\t\tid: this.props.id,\r\n\t\t\tanswers: this.props.question.answers,\r\n\t\t\tisRight: this.props.question.isRight,\r\n\t\t\tquestionTitle: this.props.question.questionTitle,\r\n\t\t\tscore: this.props.question.score,\r\n\t\t}\r\n\t}\r\n\r\n\tisFilled = (inputValue) => {\r\n        return !inputValue && this.props.submitted ? true : false;\r\n\t}\r\n\t\r\n\tgetInputValue = (e, field) => {\r\n        let value = e.target.value;\r\n\t\t// value = this.props.clearWordFromSpaces(value);\r\n\t\t\r\n        if (e.target.type === 'number') {\r\n            if (value < 0) {\r\n                value = +value * (-1);\r\n            } else if (value > 0) {\r\n                value = +value;\r\n            } else {\r\n                value = '';\r\n            }\r\n\t\t}\r\n\t\tthis.setState({ [field]: value });\r\n\t}\r\n\r\n\tgetAnswersValues = (id, title) => {\r\n\t\tlet answers = this.state.answers.map(answer => {\r\n\t\t\tif (answer.id === id) {\r\n\t\t\t\tanswer.title = this.props.clearWordFromSpaces(title);\r\n\t\t\t}\r\n\t\t\treturn answer;\r\n\t\t})\r\n\t\tthis.setState({ answers: answers });\r\n\t}\r\n\r\n \tanswersCountHandler =(actionName, id = '') => {\r\n\t\tif (actionName === 'minus') {\r\n\t\t\tif (this.state.answers.length > 2) {\r\n\t\t\t\tlet answers = this.state.answers;\r\n\t\t\t\tanswers.pop();\r\n\t\t\t\tthis.setState({answers: answers});\r\n\t\t\t} \r\n\t\t}\r\n\t\tif (actionName === 'plus') {\r\n\t\t\tthis.props.ansnwerNotValid();\r\n\t\t\tlet newAnswer = {id: Date.now(), title: ''};\r\n\t\t\tif (this.state.answers.length < 5) {\r\n\t\t\t\tthis.setState({answers: this.state.answers.concat(newAnswer)});\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (actionName === 'delete') {\r\n\t\t\tif (this.state.answers.length > 2) {\r\n\t\t\t\tthis.setState( {answers: this.state.answers.filter(answer => answer.id !== id) });\r\n\t\t\t\t+this.state.isRight === id && this.setState({isRight: 0});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tisQuestionValid = () => {\r\n\t\tif (this.state.isRight \r\n\t\t\t&& this.state.questionTitle\r\n\t\t\t&& this.state.score\r\n\t\t\t&& this.props.submitted) {\r\n\r\n\t\t\tthis.props.questionValid();\r\n\t\t} else {\r\n\t\t\tthis.props.questionNotValid();\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps, prevState) {\r\n\t\tif ((this.props.submitted !== prevProps.submitted) || (this.props.submitted && ( \r\n\t\t\t(this.state.questionTitle !== prevState.questionTitle)\r\n\t\t\t|| (this.state.isRight !== prevState.isRight)\r\n\t\t\t|| (this.state.score !== prevState.score)\r\n\t\t\t|| (this.state.answers.length !== prevState.answers.length)\r\n\t\t\t|| (this.props.questionsCount !== prevProps.questionsCount)))) {\r\n\r\n\t\t\tthis.isQuestionValid();\r\n\t\t\tthis.props.getQuestionValues(this.props.id,  this.state);\r\n\t\t}\r\n\t}\r\n \t  \r\n    render() {\r\n\t\treturn (\r\n\t\t\t<Question>\r\n\t\t\t\t<FlexRow width={'98%'}>\r\n\t\t\t\t\t<FlexChild width={'1068px'}>\r\n\t\t\t\t\t\t<DeleteQuestion \r\n\t\t\t\t\t\t\tscore={this.state.score}\r\n\t\t\t\t\t\t\tid={this.state.id}\r\n\t\t\t\t\t\t\tcount={this.props.count}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<QuestionTitle\r\n\t\t\t\t\t\t\tcount={this.props.count}\r\n\t\t\t\t\t\t\tgetInputValue={this.getInputValue}\r\n\t\t\t\t\t\t\tvalue={this.state.questionTitle}\r\n\t\t\t\t\t\t\tisFilled={this.isFilled} \r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</FlexChild>\r\n\t\t\t\t\t<QuestionScore \r\n\t\t\t\t\t\tgetInputValue={this.getInputValue}\r\n\t\t\t\t\t\tvalue={this.state.score}\r\n\t\t\t\t\t\tisFilled={this.isFilled} \r\n\t\t\t\t\t/>\r\n\t\t\t\t</FlexRow>\r\n\t\t\t\t<FlexRow width={'98%'} wrap={'wrap-reverse'}>\r\n\t\t\t\t\t<FlexChild maxWidth={'1060px'}>\r\n\t\t\t\t\t\t\t{/* answers list */}\r\n\t\t\t\t\t\t{!this.state.isRight && this.props.submitted && \r\n\t\t\t\t\t\t\t<InvalidRadioFlag count={this.props.count}/>}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t{this.state.answers.map((input, index) => (\r\n\t\t\t\t\t\t\t<FlexRow key={input.id} width={'100%'}>\r\n\t\t\t\t\t\t\t\t<QuestionRightAnswer \r\n\t\t\t\t\t\t\t\t\tgetInputValue={this.getInputValue}\r\n                                    id={input.id}\r\n                                    value={input.isRight}\r\n                                    checked={input.id === this.state.isRight ? true : false}\r\n\t\t\t\t\t\t\t\t\tname={this.state.id}\r\n\t\t\t\t\t\t\t\t\tcount={index + 1}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<OneAnswer\r\n\t\t\t\t\t\t\t\t\tcount={index + 1}\r\n                                    id={input.id}\r\n                                    value={input.title}\r\n\t\t\t\t\t\t\t\t\tisFilled={this.isFilled}\r\n\t\t\t\t\t\t\t\t\tgetAnswersValues={this.getAnswersValues}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t{this.state.answers.length > 2 \r\n\t\t\t\t\t\t\t\t\t?\t<DeleteAnswer \r\n\t\t\t\t\t\t\t\t\t\t\tanswersCountHandler={this.answersCountHandler}\r\n\t\t\t\t\t\t\t\t\t\t\tid={input.id}\t\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t: ''\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</FlexRow>\r\n\t\t\t\t\t\t))}     \r\n\t\t\t\t\t</FlexChild>\r\n\t\t\t\t\t<AnswersCounter \r\n\t\t\t\t\t\tanswersCountHandler={this.answersCountHandler}\r\n\t\t\t\t\t\tanswersCount={this.state.answers.length}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</FlexRow>\t\t\t\r\n\t\t\t</Question>\r\n\t    );\r\n  \t}\r\n}\r\nfunction mapStateToProps(state) {\r\n  return {\r\n\t totalScore: state.testCreator.totalScore,\r\n\t submitted: state.testCreator.submitted,\r\n\t questionsCount: state.testCreator.questions.length,\r\n  }\r\n}\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n\t\tchangeTotalScore: (score) => dispatch(changeTotalScore(score)),\r\n\t\tquestionValid: () => dispatch(questionValid()),\r\n\t\tquestionNotValid: () => dispatch(questionNotValid()),\r\n\t\tansnwerNotValid: () => dispatch(answerNotValid()),\r\n\t\t\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(QuestionEditor)\r\n"]},"metadata":{},"sourceType":"module"}