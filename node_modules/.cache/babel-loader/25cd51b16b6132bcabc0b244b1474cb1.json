{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\Gohar\\\\Desktop\\\\testing-project\\\\testing-project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"C:\\\\Users\\\\Gohar\\\\Desktop\\\\testing-project\\\\testing-project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"C:\\\\Users\\\\Gohar\\\\Desktop\\\\testing-project\\\\testing-project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Gohar\\\\Desktop\\\\testing-project\\\\testing-project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Gohar\\\\Desktop\\\\testing-project\\\\testing-project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Gohar\\\\Desktop\\\\testing-project\\\\testing-project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Gohar\\\\Desktop\\\\testing-project\\\\testing-project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\Gohar\\\\Desktop\\\\testing-project\\\\testing-project\\\\src\\\\containers\\\\Pages\\\\InvitedUsers.js\";\nimport React, { Component } from 'react';\nimport { firebase } from '../../firebase/firebase';\nimport Searching from './Searching';\nimport Pagination from './Pagination';\n\nvar InvitedUsers =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(InvitedUsers, _Component);\n\n  function InvitedUsers(props) {\n    var _this;\n\n    _classCallCheck(this, InvitedUsers);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(InvitedUsers).call(this, props));\n    _this.state = {\n      data: [],\n      search: \"\",\n      type: \"\",\n      currentPage: 1,\n      dataPerPage: 4,\n      loadMore: 0,\n      sortType: \"testTitle\",\n      orderAscanding: true\n    };\n    unmouted = false;\n    return _this;\n  }\n\n  _createClass(InvitedUsers, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.unmouted = false;\n      firebase.database().ref('tests').on('value', function (snapshot) {\n        var tests = [];\n        snapshot.forEach(function (childSnapshot) {\n          tests.push(_objectSpread({\n            id: childSnapshot.key\n          }, childSnapshot.val()));\n        });\n\n        if (!_this2.unmouted) {\n          _this2.setState({\n            data: tests\n          });\n        }\n      });\n    }\n  }, {\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      this.unmouted = true;\n    }\n  }, {\n    key: \"searching\",\n    value: function searching(e, searchProp) {\n      var _this$setState;\n\n      this.setState((_this$setState = {}, _defineProperty(_this$setState, searchProp, e.target.value), _defineProperty(_this$setState, \"currentPage\", 1), _this$setState));\n    }\n  }, {\n    key: \"sorting\",\n    value: function sorting(sortType) {\n      this.setState({\n        orderAscanding: this.state.sortType !== sortType ? true : !this.state.orderAscanding,\n        sortType: sortType\n      });\n    }\n  }, {\n    key: \"pageClick\",\n    value: function pageClick(e) {\n      this.setState({\n        currentPage: Number(e.target.id),\n        loadMore: 0\n      });\n    }\n  }, {\n    key: \"loadMore\",\n    value: function loadMore(e) {\n      this.setState({\n        loadMore: this.state.loadMore + 1\n      });\n    }\n  }, {\n    key: \"prev\",\n    value: function prev() {\n      this.setState({\n        currentPage: this.state.currentPage + this.state.loadMore - 1,\n        loadMore: 0\n      });\n    }\n  }, {\n    key: \"next\",\n    value: function next() {\n      this.setState({\n        currentPage: this.state.currentPage + this.state.loadMore + 1,\n        loadMore: 0\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var selectSearchData = ['JavaScript', 'Java', \"PHP\", 'C#', 'MySQL', 'Python', 'Ruby', 'Swift', 'React', 'Redux'];\n      var _this$state = this.state,\n          data = _this$state.data,\n          search = _this$state.search,\n          type = _this$state.type,\n          currentPage = _this$state.currentPage,\n          dataPerPage = _this$state.dataPerPage,\n          loadMore = _this$state.loadMore,\n          sortType = _this$state.sortType,\n          orderAscanding = _this$state.orderAscanding;\n      var filterData = data.filter(function (item) {\n        return item.testTitle.toLowerCase().substr(0, search.length) === search.toLowerCase();\n      });\n\n      if (type !== \"\") {\n        filterData = filterData.filter(function (item) {\n          return item.testType === type;\n        });\n      }\n\n      filterData.sort(function (a, b) {\n        var nameA = a[sortType].toUpperCase();\n        var nameB = b[sortType].toUpperCase();\n\n        if (orderAscanding) {\n          if (nameA < nameB) {\n            return -1;\n          }\n\n          if (nameA > nameB) {\n            return 1;\n          }\n        } else {\n          if (nameA < nameB) {\n            return 1;\n          }\n\n          if (nameA > nameB) {\n            return -1;\n          }\n        }\n\n        return 0;\n      });\n      var indexOfLastData = currentPage * dataPerPage;\n      var indexOfFirstData = indexOfLastData - dataPerPage;\n      var currentData = filterData.slice(indexOfFirstData, indexOfLastData + loadMore * dataPerPage);\n      var pages = [];\n\n      for (var i = 1; i <= Math.ceil(filterData.length / dataPerPage); i++) {\n        pages.push(i);\n      }\n\n      return React.createElement(\"div\", {\n        className: \"container-table\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, React.createElement(Searching, Object.assign({}, this.state, {\n        searching: this.searching.bind(this),\n        currentDataLength: currentData.length,\n        selectSearchData: selectSearchData,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      })), React.createElement(\"table\", {\n        className: \"dataTable\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, React.createElement(\"thead\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        onClick: this.sorting.bind(this, \"testTitle\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, sortType === \"testTitle\" && orderAscanding && React.createElement(\"span\", {\n        className: \"sortArrowBottom\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }), sortType === \"testTitle\" && !orderAscanding && React.createElement(\"span\", {\n        className: \"sortArrowTop\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }), \"Full Name\"), React.createElement(\"th\", {\n        onClick: this.sorting.bind(this, \"testType\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, sortType === \"testType\" && orderAscanding && React.createElement(\"span\", {\n        className: \"sortArrowBottom\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }), sortType === \"testType\" && !orderAscanding && React.createElement(\"span\", {\n        className: \"sortArrowTop\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }), \"Passes Test\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, \"Profile\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }, \"Delete\"))), React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }, currentData.map(function (item) {\n        return React.createElement(\"tr\", {\n          key: item.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 157\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 158\n          },\n          __self: this\n        }, item.testTitle), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 159\n          },\n          __self: this\n        }, item.testType), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 160\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          className: \"passer\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 161\n          },\n          __self: this\n        }, \"View\")), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 163\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 164\n          },\n          __self: this\n        }, \"Delete\")));\n      }))), React.createElement(Pagination, {\n        load_More: loadMore,\n        loadMore: this.loadMore.bind(this),\n        currentPage: currentPage,\n        prev: this.prev.bind(this),\n        pageClick: this.pageClick.bind(this),\n        next: this.next.bind(this),\n        pages: pages,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return InvitedUsers;\n}(Component);\n\nexport { InvitedUsers as default };","map":{"version":3,"sources":["C:\\Users\\Gohar\\Desktop\\testing-project\\testing-project\\src\\containers\\Pages\\InvitedUsers.js"],"names":["React","Component","firebase","Searching","Pagination","InvitedUsers","props","state","data","search","type","currentPage","dataPerPage","loadMore","sortType","orderAscanding","unmouted","database","ref","on","snapshot","tests","forEach","childSnapshot","push","id","key","val","setState","e","searchProp","target","value","Number","selectSearchData","filterData","filter","item","testTitle","toLowerCase","substr","length","testType","sort","a","b","nameA","toUpperCase","nameB","indexOfLastData","indexOfFirstData","currentData","slice","pages","i","Math","ceil","searching","bind","sorting","map","prev","pageClick","next"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { firebase } from '../../firebase/firebase';\r\nimport Searching from './Searching';\r\nimport Pagination from './Pagination';\r\n\r\nexport default class InvitedUsers extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tdata: [],\r\n\t\t\tsearch: \"\",\r\n\t\t\ttype: \"\",\r\n\t\t\tcurrentPage: 1,\r\n\t\t\tdataPerPage: 4,\r\n\t\t\tloadMore: 0,\r\n\t\t\tsortType: \"testTitle\",\r\n\t\t\torderAscanding: true,\r\n\t\t\t\r\n\t\t}\r\n\t\tunmouted = false;\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.unmouted = false;\r\n\t\tfirebase.database().ref('tests').on('value', (snapshot) => {\r\n\t\t\tconst tests = [];\r\n\t\t\tsnapshot.forEach(childSnapshot => {\r\n\t\t\t\ttests.push({\r\n\t\t\t\t\tid: childSnapshot.key,\r\n\t\t\t\t\t...childSnapshot.val()\r\n\t\t\t\t})\r\n\t\t\t});\r\n\t\t\tif (!this.unmouted) {\r\n\t\t\t\tthis.setState({ data: tests });\r\n\t\t\t}\r\n\t\t\t\r\n\t\t});\r\n\t}\r\n\tcomponentWillMount() {\r\n\t\tthis.unmouted = true;\r\n\t}\r\n\r\n\tsearching(e, searchProp) {\r\n\t\tthis.setState({\r\n\t\t\t[searchProp]: e.target.value,\r\n\t\t\tcurrentPage: 1\r\n\t\t})\r\n\t}\r\n\r\n\tsorting(sortType) {\r\n\t\tthis.setState({\r\n\t\t\torderAscanding: this.state.sortType !== sortType ? true : !this.state.orderAscanding,\r\n\t\t\tsortType,\r\n\t\t})\r\n\t}\r\n\r\n\tpageClick(e) {\r\n\t\tthis.setState({\r\n\t\t\tcurrentPage: Number(e.target.id),\r\n\t\t\tloadMore: 0\r\n\t\t})\r\n\t}\r\n\r\n\tloadMore(e) {\r\n\t\tthis.setState({ loadMore: this.state.loadMore + 1 })\r\n\t}\r\n\r\n\tprev() {\r\n\t\tthis.setState({\r\n\t\t\tcurrentPage: this.state.currentPage + this.state.loadMore - 1,\r\n\t\t\tloadMore: 0\r\n\t\t})\r\n\t}\r\n\r\n\tnext() {\r\n\t\tthis.setState({\r\n\t\t\tcurrentPage: this.state.currentPage + this.state.loadMore + 1,\r\n\t\t\tloadMore: 0\r\n\t\t})\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst selectSearchData = ['JavaScript', 'Java', \"PHP\", 'C#', 'MySQL', 'Python', 'Ruby', 'Swift', 'React', 'Redux'];\r\n\t\tconst { data, search, type, currentPage, dataPerPage, loadMore, sortType, orderAscanding } = this.state;\r\n\t\tlet filterData = data.filter(item => {\r\n\t\t\treturn item.testTitle.toLowerCase().substr(0, search.length) === search.toLowerCase()\r\n\t\t})\r\n\r\n\t\tif (type !== \"\") {\r\n\t\t\tfilterData = filterData.filter(item => item.testType === type)\r\n\t\t}\r\n\r\n\t\tfilterData.sort((a, b) => {\r\n\t\t\tlet nameA = a[sortType].toUpperCase();\r\n\t\t\tlet nameB = b[sortType].toUpperCase();\r\n\t\t\tif (orderAscanding) {\r\n\t\t\t\tif (nameA < nameB) {\r\n\t\t\t\t\treturn -1;\r\n\t\t\t\t}\r\n\t\t\t\tif (nameA > nameB) {\r\n\t\t\t\t\treturn 1;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (nameA < nameB) {\r\n\t\t\t\t\treturn 1;\r\n\t\t\t\t}\r\n\t\t\t\tif (nameA > nameB) {\r\n\t\t\t\t\treturn -1;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn 0;\r\n\t\t});\r\n\r\n\t\tconst indexOfLastData = currentPage * dataPerPage;\r\n\t\tconst indexOfFirstData = indexOfLastData - dataPerPage;\r\n\t\tconst currentData = filterData.slice(indexOfFirstData, indexOfLastData + loadMore * dataPerPage);\r\n\r\n\t\tconst pages = [];\r\n\t\tfor (let i = 1; i <= Math.ceil(filterData.length / dataPerPage); i++) {\r\n\t\t\tpages.push(i);\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"container-table\">\r\n\t\t\t\t<Searching\r\n\t\t\t\t\t{...this.state}\r\n\t\t\t\t\tsearching={this.searching.bind(this)}\r\n\t\t\t\t\tcurrentDataLength={currentData.length}\r\n\t\t\t\t\tselectSearchData={selectSearchData}\r\n\t\t\t\t/>\r\n\t\t\t\t<table className=\"dataTable\">\r\n\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<th onClick={this.sorting.bind(this, \"testTitle\")}>\r\n\t\t\t\t\t\t\t\t{sortType === \"testTitle\" && orderAscanding &&\r\n\t\t\t\t\t\t\t\t\t<span className=\"sortArrowBottom\"></span>}\r\n\t\t\t\t\t\t\t\t{sortType === \"testTitle\" && !orderAscanding &&\r\n\t\t\t\t\t\t\t\t\t<span className=\"sortArrowTop\"></span>}\r\n\t\t\t\t\t\t\t\tFull Name\r\n\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t\t<th onClick={this.sorting.bind(this, \"testType\")}>\r\n\t\t\t\t\t\t\t\t{sortType === \"testType\" && orderAscanding &&\r\n\t\t\t\t\t\t\t\t\t<span className=\"sortArrowBottom\"></span>}\r\n\t\t\t\t\t\t\t\t{sortType === \"testType\" && !orderAscanding &&\r\n\t\t\t\t\t\t\t\t\t<span className=\"sortArrowTop\"></span>}\r\n\t\t\t\t\t\t\t\tPasses Test\r\n\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t\t<th>Profile</th>\r\n\t\t\t\t\t\t\t<th>Delete</th>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</thead>\r\n\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tcurrentData.map(item => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<tr key={item.id} >\r\n\t\t\t\t\t\t\t\t\t\t<td>{item.testTitle}</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>{item.testType}</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"passer\">View</span>\r\n\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t<td >\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Delete</span>\r\n\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</tbody>\r\n\r\n\t\t\t\t</table>\r\n\t\t\t\t<Pagination\r\n\t\t\t\t\tload_More={loadMore}\r\n\t\t\t\t\tloadMore={this.loadMore.bind(this)}\r\n\t\t\t\t\tcurrentPage={currentPage}\r\n\t\t\t\t\tprev={this.prev.bind(this)}\r\n\t\t\t\t\tpageClick={this.pageClick.bind(this)}\r\n\t\t\t\t\tnext={this.next.bind(this)}\r\n\t\t\t\t\tpages={pages}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}"]},"metadata":{},"sourceType":"module"}