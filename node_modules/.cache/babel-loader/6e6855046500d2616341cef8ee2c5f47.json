{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\Gohar\\\\Desktop\\\\testing-project\\\\testing-project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"C:\\\\Users\\\\Gohar\\\\Desktop\\\\testing-project\\\\testing-project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"C:\\\\Users\\\\Gohar\\\\Desktop\\\\testing-project\\\\testing-project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Gohar\\\\Desktop\\\\testing-project\\\\testing-project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Gohar\\\\Desktop\\\\testing-project\\\\testing-project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Gohar\\\\Desktop\\\\testing-project\\\\testing-project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Gohar\\\\Desktop\\\\testing-project\\\\testing-project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\Gohar\\\\Desktop\\\\testing-project\\\\testing-project\\\\src\\\\containers\\\\Pages\\\\UserTests.js\";\nimport React, { Component } from 'react';\nimport src from '../../images/is.jpg';\nimport { firebase } from '../../firebase/firebase';\nimport Searching from './Searching';\nimport Pagination from './Pagination';\n\nvar UserTests =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(UserTests, _Component);\n\n  function UserTests(props) {\n    var _this;\n\n    _classCallCheck(this, UserTests);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(UserTests).call(this, props));\n\n    _this.deadline = function (date) {\n      var today = new Date(date);\n      var dd = today.getDate();\n      var mm = today.getMonth() + 1;\n      var yyyy = today.getFullYear();\n\n      if (dd < 10) {\n        dd = '0' + dd;\n      }\n\n      if (mm < 10) {\n        mm = '0' + mm;\n      }\n\n      return today = dd + '/' + mm + '/' + yyyy;\n    };\n\n    _this.deleteTest = function (itemId) {\n      _this.props.testDeletedClicked();\n\n      _this.props.deleteTest(itemId);\n    };\n\n    _this.state = {\n      data: [],\n      search: \"\",\n      type: \"\",\n      currentPage: 1,\n      dataPerPage: 4,\n      loadMore: 0,\n      sortType: \"testTitle\",\n      orderAscanding: true\n    };\n    return _this;\n  }\n\n  _createClass(UserTests, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      firebase.database().ref('tests').on('value', function (snapshot) {\n        var tests = [];\n        snapshot.forEach(function (childSnapshot) {\n          tests.push(_objectSpread({\n            id: childSnapshot.key\n          }, childSnapshot.val()));\n        });\n\n        _this2.setState({\n          data: tests\n        });\n\n        console.log(tests);\n      });\n    }\n  }, {\n    key: \"searching\",\n    value: function searching(e, searchProp) {\n      var _this$setState;\n\n      this.setState((_this$setState = {}, _defineProperty(_this$setState, searchProp, e.target.value), _defineProperty(_this$setState, \"currentPage\", 1), _this$setState));\n    }\n  }, {\n    key: \"sorting\",\n    value: function sorting(sortType) {\n      this.setState({\n        orderAscanding: this.state.sortType !== sortType ? true : !this.state.orderAscanding,\n        sortType: sortType\n      });\n    }\n  }, {\n    key: \"pageClick\",\n    value: function pageClick(e) {\n      this.setState({\n        currentPage: Number(e.target.id),\n        loadMore: 0\n      });\n    }\n  }, {\n    key: \"loadMore\",\n    value: function loadMore(e) {\n      this.setState({\n        loadMore: this.state.loadMore + 1\n      });\n    }\n  }, {\n    key: \"prev\",\n    value: function prev() {\n      this.setState({\n        currentPage: this.state.currentPage + this.state.loadMore - 1,\n        loadMore: 0\n      });\n    }\n  }, {\n    key: \"next\",\n    value: function next() {\n      this.setState({\n        currentPage: this.state.currentPage + this.state.loadMore + 1,\n        loadMore: 0\n      });\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      if (this.props.testsLoaded !== prevProps.testsLoaded) {\n        this.setState({\n          data: this.props.tests\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var tests = [];\n\n      if (this.state.data) {\n        tests = this.state.data.filter(function (test) {\n          return test.id === _this3.props.user.tests.id && _this3.props.user.tests.score;\n        });\n        console.log(tests);\n      }\n\n      var selectSearchData = ['JavaScript', 'Java', \"PHP\", 'C#', 'MySQL', 'Python', 'Ruby', 'Swift', 'React', 'Redux'];\n      var _this$state = this.state,\n          data = _this$state.data,\n          search = _this$state.search,\n          type = _this$state.type,\n          currentPage = _this$state.currentPage,\n          dataPerPage = _this$state.dataPerPage,\n          loadMore = _this$state.loadMore,\n          sortType = _this$state.sortType,\n          orderAscanding = _this$state.orderAscanding;\n      var filterData = tests.filter(function (item) {\n        return item.testTitle.toLowerCase().substr(0, search.length) === search.toLowerCase();\n      });\n\n      if (type !== \"\") {\n        filterData = filterData.filter(function (item) {\n          return item.testType === type;\n        });\n      }\n\n      filterData.sort(function (a, b) {\n        var nameA;\n        var nameB;\n\n        if (sortType !== \"testDeadline\") {\n          nameA = a[sortType].toUpperCase();\n          nameB = b[sortType].toUpperCase();\n        } else {\n          nameA = new Date(a.testDeadline);\n          nameB = new Date(b.testDeadline);\n        }\n\n        if (orderAscanding) {\n          if (nameA < nameB) {\n            return -1;\n          }\n\n          if (nameA > nameB) {\n            return 1;\n          }\n        } else {\n          if (nameA < nameB) {\n            return 1;\n          }\n\n          if (nameA > nameB) {\n            return -1;\n          }\n        }\n\n        return 0;\n      });\n      var indexOfLastData = currentPage * dataPerPage;\n      var indexOfFirstData = indexOfLastData - dataPerPage;\n      var currentData = filterData.slice(indexOfFirstData, indexOfLastData + loadMore * dataPerPage);\n      var pages = [];\n\n      for (var i = 1; i <= Math.ceil(filterData.length / dataPerPage); i++) {\n        pages.push(i);\n      }\n\n      return React.createElement(\"div\", {\n        className: \"container-table\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }, React.createElement(Searching, Object.assign({}, this.state, {\n        searching: this.searching.bind(this),\n        currentDataLength: currentData.length,\n        selectSearchData: selectSearchData,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      })), React.createElement(\"table\", {\n        className: \"dataTable\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }, React.createElement(\"thead\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        onClick: this.sorting.bind(this, \"testTitle\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }, sortType === \"testTitle\" && orderAscanding && React.createElement(\"span\", {\n        className: \"sortArrowBottom\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      }), sortType === \"testTitle\" && !orderAscanding && React.createElement(\"span\", {\n        className: \"sortArrowTop\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177\n        },\n        __self: this\n      }), \"Title\"), React.createElement(\"th\", {\n        onClick: this.sorting.bind(this, \"testType\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180\n        },\n        __self: this\n      }, sortType === \"testType\" && orderAscanding && React.createElement(\"span\", {\n        className: \"sortArrowBottom\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      }), sortType === \"testType\" && !orderAscanding && React.createElement(\"span\", {\n        className: \"sortArrowTop\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      }), \"Type\"), React.createElement(\"th\", {\n        onClick: this.sorting.bind(this, \"company\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      }, sortType === \"company\" && orderAscanding && React.createElement(\"span\", {\n        className: \"sortArrowBottom\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189\n        },\n        __self: this\n      }), sortType === \"company\" && !orderAscanding && React.createElement(\"span\", {\n        className: \"sortArrowTop\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }), \"Company\"), React.createElement(\"th\", {\n        onClick: this.sorting.bind(this, \"testDeadline\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      }, sortType === \"testDeadline\" && orderAscanding && React.createElement(\"span\", {\n        className: \"sortArrowBottom\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196\n        },\n        __self: this\n      }), sortType === \"testDeadline\" && !orderAscanding && React.createElement(\"span\", {\n        className: \"sortArrowTop\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198\n        },\n        __self: this\n      }), \"Deadline\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201\n        },\n        __self: this\n      }, \"Delete\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202\n        },\n        __self: this\n      }, \"Enrole Tests\"))), React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205\n        },\n        __self: this\n      }, this.state.data ? currentData.map(function (item) {\n        return React.createElement(\"tr\", {\n          key: item.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 210\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 211\n          },\n          __self: this\n        }, item.testTitle), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 212\n          },\n          __self: this\n        }, item.testType), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 213\n          },\n          __self: this\n        }, item.company), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 214\n          },\n          __self: this\n        }, _this3.deadline(item.testDeadline)), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 217\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 218\n          },\n          __self: this\n        }, \"Delete\")), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 220\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 221\n          },\n          __self: this\n        }, \"Start\")));\n      }) : 'There is no tests yet')), React.createElement(Pagination, {\n        load_More: loadMore,\n        loadMore: this.loadMore.bind(this),\n        currentPage: currentPage,\n        prev: this.prev.bind(this),\n        pageClick: this.pageClick.bind(this),\n        next: this.next.bind(this),\n        pages: pages,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 231\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return UserTests;\n}(Component);\n\nfunction mapStateToProps(state) {\n  return {\n    tests: state.appReducer.tests,\n    testsLoaded: state.appReducer.testsLoaded\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {};\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UserTests);","map":{"version":3,"sources":["C:\\Users\\Gohar\\Desktop\\testing-project\\testing-project\\src\\containers\\Pages\\UserTests.js"],"names":["React","Component","src","firebase","Searching","Pagination","UserTests","props","deadline","date","today","Date","dd","getDate","mm","getMonth","yyyy","getFullYear","deleteTest","itemId","testDeletedClicked","state","data","search","type","currentPage","dataPerPage","loadMore","sortType","orderAscanding","database","ref","on","snapshot","tests","forEach","childSnapshot","push","id","key","val","setState","console","log","e","searchProp","target","value","Number","prevProps","prevState","testsLoaded","filter","test","user","score","selectSearchData","filterData","item","testTitle","toLowerCase","substr","length","testType","sort","a","b","nameA","nameB","toUpperCase","testDeadline","indexOfLastData","indexOfFirstData","currentData","slice","pages","i","Math","ceil","searching","bind","sorting","map","company","prev","pageClick","next","mapStateToProps","appReducer","mapDispatchToProps","dispatch","connect"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport src from '../../images/is.jpg';\r\nimport {firebase} from '../../firebase/firebase';\r\nimport Searching from './Searching';\r\nimport Pagination from './Pagination';\r\n\r\nclass UserTests extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            data: [],\r\n            search: \"\",\r\n            type: \"\",\r\n            currentPage: 1,\r\n            dataPerPage: 4,\r\n            loadMore: 0,\r\n            sortType: \"testTitle\",\r\n            orderAscanding: true\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        firebase.database().ref('tests').on('value', (snapshot) => {\r\n            const tests = [];\r\n            snapshot.forEach(childSnapshot => {\r\n                tests.push({\r\n                    id: childSnapshot.key,\r\n                    ...childSnapshot.val()\r\n                })\r\n            });\r\n            this.setState({data: tests})\r\n            console.log(tests)\r\n        });\r\n    }\r\n\r\n    searching(e, searchProp) {\r\n        this.setState({\r\n            [searchProp]: e.target.value,\r\n            currentPage: 1\r\n        })\r\n    }\r\n\r\n    sorting(sortType) {\r\n        this.setState({\r\n            orderAscanding: this.state.sortType !== sortType ? true : !this.state.orderAscanding,\r\n            sortType,\r\n        })\r\n    }\r\n\r\n    pageClick(e) {\r\n        this.setState({\r\n            currentPage: Number(e.target.id),\r\n            loadMore: 0\r\n        })\r\n    }\r\n\r\n    loadMore(e) {\r\n        this.setState({loadMore: this.state.loadMore + 1})\r\n    }\r\n\r\n    prev() {\r\n        this.setState({\r\n            currentPage: this.state.currentPage + this.state.loadMore - 1,\r\n            loadMore: 0\r\n        })\r\n    }\r\n\r\n    next() {\r\n        this.setState({\r\n            currentPage: this.state.currentPage + this.state.loadMore + 1,\r\n            loadMore: 0\r\n        })\r\n    }\r\n\r\n\tdeadline  = (date) => {\r\n\t\tlet today = new Date(date);\r\n\t\tlet dd = today.getDate();\r\n\t\tlet mm = today.getMonth() + 1;\r\n\t\tlet yyyy = today.getFullYear();\r\n\r\n\t\tif(dd < 10) {\r\n\t\t\tdd = '0' + dd\r\n\t\t} \r\n\r\n\t\tif (mm < 10) {\r\n\t\t\tmm = '0' + mm\r\n\t\t} \r\n\t\treturn\ttoday = dd + '/' + mm + '/' + yyyy ;\r\n\t}\r\n\r\n\tdeleteTest = (itemId) => {\r\n\t\tthis.props.testDeletedClicked();\r\n\t\tthis.props.deleteTest(itemId);\r\n\t}\r\n\r\n\r\n\tcomponentDidUpdate(prevProps, prevState) {\r\n\t\tif (this.props.testsLoaded !== prevProps.testsLoaded) {\r\n\t\t\tthis.setState({ data: this.props.tests });\r\n\t\t}\r\n\t}\r\n\r\n    render() {\r\n        let tests = [];\r\n\t\tif (this.state.data) {\r\n\t\t\ttests = this.state.data.filter(test => {\r\n\t\t\t\treturn test.id === this.props.user.tests.id && this.props.user.tests.score;\r\n            })\r\n            \r\n\t\t\tconsole.log(tests);\r\n        }\r\n        \r\n        const selectSearchData = ['JavaScript', 'Java', \"PHP\", 'C#', 'MySQL', 'Python', 'Ruby', 'Swift', 'React', 'Redux'];\r\n        const {data, search, type, currentPage, dataPerPage, loadMore, sortType, orderAscanding} = this.state;\r\n        let filterData = tests.filter(item => {\r\n            return item.testTitle.toLowerCase().substr(0, search.length) === search.toLowerCase()\r\n        })\r\n\r\n        if (type !== \"\") {\r\n            filterData = filterData.filter(item => item.testType === type)\r\n        }\r\n\r\n        filterData.sort((a, b) => {\r\n            let nameA;\r\n            let nameB\r\n            if (sortType !== \"testDeadline\") {\r\n                nameA = a[sortType].toUpperCase();\r\n                nameB = b[sortType].toUpperCase();\r\n            } else {\r\n                nameA = new Date(a.testDeadline)\r\n                nameB = new Date(b.testDeadline)\r\n            }\r\n            if (orderAscanding) {\r\n                if (nameA < nameB) {\r\n                    return -1;\r\n                }\r\n                if (nameA > nameB) {\r\n                    return 1;\r\n                }\r\n            } else {\r\n                if (nameA < nameB) {\r\n                    return 1;\r\n                }\r\n                if (nameA > nameB) {\r\n                    return -1;\r\n                }\r\n            }\r\n            return 0;\r\n        })\r\n\r\n        const indexOfLastData = currentPage * dataPerPage;\r\n        const indexOfFirstData = indexOfLastData - dataPerPage;\r\n        const currentData = filterData.slice(indexOfFirstData, indexOfLastData + loadMore * dataPerPage);\r\n\r\n        const pages = [];\r\n        for (let i = 1; i <= Math.ceil(filterData.length / dataPerPage); i++) {\r\n            pages.push(i);\r\n        }\r\n\r\n\r\n        return (\r\n            <div className=\"container-table\">\r\n                <Searching\r\n                    {...this.state}\r\n                    searching={this.searching.bind(this)}\r\n                    currentDataLength={currentData.length}\r\n                    selectSearchData={selectSearchData}\r\n                />\r\n                <table className=\"dataTable\">\r\n                    <thead>\r\n                    <tr>\r\n                        <th onClick={this.sorting.bind(this, \"testTitle\")}>\r\n                            {sortType === \"testTitle\" && orderAscanding &&\r\n                            <span className=\"sortArrowBottom\"></span>}\r\n                            {sortType === \"testTitle\" && !orderAscanding &&\r\n                            <span className=\"sortArrowTop\"></span>}\r\n                            Title\r\n                        </th>\r\n                        <th onClick={this.sorting.bind(this, \"testType\")}>\r\n                            {sortType === \"testType\" && orderAscanding &&\r\n                            <span className=\"sortArrowBottom\"></span>}\r\n                            {sortType === \"testType\" && !orderAscanding &&\r\n                            <span className=\"sortArrowTop\"></span>}\r\n                            Type\r\n                        </th>\r\n                        <th onClick={this.sorting.bind(this, \"company\")}>\r\n                            {sortType === \"company\" && orderAscanding &&\r\n                            <span className=\"sortArrowBottom\"></span>}\r\n                            {sortType === \"company\" && !orderAscanding &&\r\n                            <span className=\"sortArrowTop\"></span>}\r\n                            Company\r\n                        </th>\r\n                        <th onClick={this.sorting.bind(this, \"testDeadline\")}>\r\n                            {sortType === \"testDeadline\" && orderAscanding &&\r\n                            <span className=\"sortArrowBottom\"></span>}\r\n                            {sortType === \"testDeadline\" && !orderAscanding &&\r\n                            <span className=\"sortArrowTop\"></span>}\r\n                            Deadline\r\n                        </th>\r\n                        <th>Delete</th>\r\n                        <th>Enrole Tests</th>\r\n                    </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                    {  \r\n                         this.state.data ?\r\n                        currentData.map(item => {\r\n                            return (\r\n                                <tr key={item.id}>\r\n                                    <td>{item.testTitle}</td>\r\n                                    <td>{item.testType}</td>\r\n                                    <td>{item.company}</td>\r\n                                    <td>\r\n                                        {this.deadline(item.testDeadline)}\r\n                                    </td>\r\n                                    <td>\r\n                                        <span>Delete</span>\r\n                                    </td>\r\n                                    <td>\r\n                                        <button>Start</button>\r\n                                    </td>\r\n                                </tr>\r\n                            )\r\n                        })\r\n                     : 'There is no tests yet'\r\n                    }\r\n                    </tbody>\r\n\r\n                </table>\r\n                <Pagination\r\n                    load_More={loadMore}\r\n                    loadMore={this.loadMore.bind(this)}\r\n                    currentPage={currentPage}\r\n                    prev={this.prev.bind(this)}\r\n                    pageClick={this.pageClick.bind(this)}\r\n                    next={this.next.bind(this)}\r\n                    pages={pages}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t\ttests: state.appReducer.tests,\r\n\t\ttestsLoaded: state.appReducer.testsLoaded,\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\t\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(UserTests)\r\n"]},"metadata":{},"sourceType":"module"}