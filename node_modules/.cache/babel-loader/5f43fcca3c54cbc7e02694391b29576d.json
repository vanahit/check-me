{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\Gohar\\\\Desktop\\\\testing-project\\\\testing-project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"C:\\\\Users\\\\Gohar\\\\Desktop\\\\testing-project\\\\testing-project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Gohar\\\\Desktop\\\\testing-project\\\\testing-project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Gohar\\\\Desktop\\\\testing-project\\\\testing-project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Gohar\\\\Desktop\\\\testing-project\\\\testing-project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Gohar\\\\Desktop\\\\testing-project\\\\testing-project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\Gohar\\\\Desktop\\\\testing-project\\\\testing-project\\\\src\\\\App.js\";\nimport React, { Component } from 'react';\nimport './App.css';\nimport { Route, Switch, withRouter } from \"react-router-dom\";\nimport TestCreator from './components/TestCreator/TestCreator';\nimport TestEditor from './components/TestCreator/TestEditor';\nimport TestPassPanel from './components/TestPassPanel/TestPassPanel';\nimport AboutUs from './components/AboutUs/AboutUs';\nimport Authorization from \"./components/Autorization/Authorization\";\nimport AutorizationUser from \"./components/Autorization/AutorizationUser\";\nimport AutorizationCompany from \"./components/Autorization/AutorizationCompany\";\nimport Company from \"./containers/Pages/Company\";\nimport CompaniesInUser from \"./containers/Pages/CompaniesInUser\";\nimport UsersInCompany from \"./containers/Pages/UsersInCompany\";\nimport AllTests from \"./containers/Pages/AllTests\";\nimport AllCompanies from \"./containers/Pages/AllCompanies\";\nimport AllUsers from \"./containers/Pages/AllUsers\";\nimport User from \"./containers/Pages/User\";\nimport NoMatch from \"./components/NoMatch\";\nimport HomePage from \"./components/HomePage/HomePage\";\nimport { connect } from 'react-redux';\nimport { getCompanies as _getCompanies, getTests as _getTests, getUsers as _getUsers } from './store/thunks/thunks';\nimport * as firebase from \"firebase\";\nimport Layout from \"./Hoc/Layout\";\nimport PopUpLogin from './components/PopUps/PopUpLogin';\nimport PopUpDelete from './components/PopUps/PopUpDelete';\nimport { userLogin as _userLogin } from './store/actions/appAction';\nimport PopUpTestAdded from './components/PopUps/PopUpTestAdded';\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, App);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(App)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      currentLog: null,\n      testsLoaded: _this.props.testsLoaded,\n      companiesLoaded: _this.props.companiesLoaded,\n      testAddClicked: false,\n      testDeletedClicked: false,\n      userTestAdded: false,\n      userTestExists: false,\n      user: null\n    };\n\n    _this.testAddClicked = function () {\n      _this.setState({\n        testAddClicked: !_this.state.testAddClicked\n      });\n    };\n\n    _this.testDeletedClicked = function () {\n      _this.setState({\n        testDeletedClicked: !_this.state.testDeletedClicked\n      });\n    };\n\n    _this.userTestAdded = function () {\n      _this.setState({\n        userTestAdded: !_this.state.userTestAdded\n      });\n    };\n\n    _this.userTestExists = function () {\n      _this.setState({\n        userTestExists: !_this.state.userTestExists\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      firebase.auth().onAuthStateChanged(function (currentLog) {\n        if (currentLog) {\n          _this2.setState({\n            currentLog: currentLog\n          });\n\n          if (localStorage.getItem(\"current\") === \"company\") {\n            _this2.props.userLogin('company');\n\n            firebase.database().ref(\"companies/\".concat(currentLog.uid)).once('value', function (snapshot) {\n              _this2.setState({\n                currentLog: currentLog,\n                user: _objectSpread({}, snapshot.val())\n              });\n            });\n          }\n\n          if (localStorage.getItem(\"current\") === \"user\") {\n            _this2.props.userLogin('user');\n\n            firebase.database().ref(\"user/\".concat(currentLog.uid)).once('value', function (snapshot) {\n              _this2.setState({\n                currentLog: currentLog,\n                user: _objectSpread({}, snapshot.val())\n              });\n            });\n          }\n\n          console.log(\"log in \");\n        } else {\n          console.log('log out');\n          localStorage.removeItem(\"current\");\n\n          _this2.setState({\n            currentLog: null,\n            user: null\n          });\n        }\n      });\n      this.props.getCompanies();\n      this.props.getTests();\n      this.props.getUsers();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      if (this.props.testsLoaded === true && this.props.testsLoaded !== prevProps.testsLoaded) {\n        this.setState({\n          testsLoaded: this.props.testsLoaded\n        });\n      }\n\n      if (this.props.companiesLoaded === true && this.props.companiesLoaded !== prevProps.companiesLoaded) {\n        this.setState({\n          companiesLoaded: this.props.companiesLoaded\n        });\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {//this.setState({testAddClicked: false});\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, this.state.testAddClicked && React.createElement(PopUpLogin, {\n        testAddClicked: this.testAddClicked,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }), this.state.testDeletedClicked && React.createElement(PopUpDelete, {\n        testDeletedClicked: this.testDeletedClicked,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }), this.state.userTestAdded && React.createElement(PopUpTestAdded, {\n        exists: false,\n        userTestAdded: this.userTestAdded,\n        user: this.state.user,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, \"added to tests in your propfile\"), this.state.userTestExists && React.createElement(PopUpTestAdded, {\n        exists: true,\n        userTestExists: this.userTestExists,\n        user: this.state.user,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, \"has already been added to your tests\"), React.createElement(Layout, {\n        currentLog: this.state.currentLog,\n        user: this.state.user,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, React.createElement(Switch, {\n        className: \"App\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, React.createElement(Route, {\n        exact: true,\n        path: '/',\n        component: function component() {\n          return React.createElement(HomePage, {\n            testAddClicked: _this3.testAddClicked,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 123\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/registration/user\",\n        component: AutorizationUser,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/registration/company\",\n        component: AutorizationCompany,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/Users/\",\n        component: AllUsers,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/companies/\",\n        component: AllCompanies,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/CompaniesInUser/\",\n        component: CompaniesInUser,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/UsersInCompany/\",\n        component: UsersInCompany,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/User/:Text\",\n        component: User,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/:company/add-test\",\n        component: function component() {\n          return React.createElement(TestCreator, {\n            user: _this3.state.user,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 133\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/:company/edit-test\",\n        component: function component() {\n          return React.createElement(TestEditor, {\n            editingTest: _this3.props.editingTest,\n            user: _this3.state.user,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 135\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }), localStorage.getItem(\"current\") === \"user\" ? React.createElement(Route, {\n        path: \"/:user/:text\",\n        component: function component() {\n          return React.createElement(User, {\n            currentCompany: _this3.state.currentLog,\n            user: _this3.state.user,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 138\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }) : React.createElement(Route, {\n        path: \"/:company/:text\",\n        component: function component() {\n          return React.createElement(Company, {\n            currentCompany: _this3.state.currentLog,\n            user: _this3.state.user,\n            testDeletedClicked: _this3.testDeletedClicked,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 140\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/authorization/\",\n        component: function component() {\n          return React.createElement(Authorization, {\n            currentCompany: _this3.state.currentLog,\n            user: _this3.state.user,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 147\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/aboutUs/\",\n        component: AboutUs,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/testPassPanel/\",\n        component: TestPassPanel,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/tests/\",\n        component: function component() {\n          return React.createElement(AllTests, {\n            testAddClicked: _this3.testAddClicked,\n            userTestAdded: _this3.userTestAdded,\n            userTestExists: _this3.userTestExists,\n            currentUser: _this3.state.currentLog,\n            user: _this3.state.user,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 153\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }), React.createElement(Route, {\n        component: NoMatch,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nfunction mapStateToProps(state) {\n  return {\n    testsLoaded: state.appReducer.testsLoaded,\n    companiesLoaded: state.appReducer.companiesLoaded,\n    editingTest: state.appReducer.editingTest\n  };\n}\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    getCompanies: function getCompanies(companies) {\n      return dispatch(_getCompanies(companies));\n    },\n    getTests: function getTests(tests) {\n      return dispatch(_getTests(tests));\n    },\n    getUsers: function getUsers(users) {\n      return dispatch(_getUsers(users));\n    },\n    userLogin: function userLogin(userType) {\n      return dispatch(_userLogin(userType));\n    }\n  };\n};\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(App));","map":{"version":3,"sources":["C:\\Users\\Gohar\\Desktop\\testing-project\\testing-project\\src\\App.js"],"names":["React","Component","Route","Switch","withRouter","TestCreator","TestEditor","TestPassPanel","AboutUs","Authorization","AutorizationUser","AutorizationCompany","Company","CompaniesInUser","UsersInCompany","AllTests","AllCompanies","AllUsers","User","NoMatch","HomePage","connect","getCompanies","getTests","getUsers","firebase","Layout","PopUpLogin","PopUpDelete","userLogin","PopUpTestAdded","App","state","currentLog","testsLoaded","props","companiesLoaded","testAddClicked","testDeletedClicked","userTestAdded","userTestExists","user","setState","auth","onAuthStateChanged","localStorage","getItem","database","ref","uid","once","snapshot","val","console","log","removeItem","prevProps","prevState","editingTest","mapStateToProps","appReducer","mapDispatchToProps","dispatch","companies","tests","users","userType"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport './App.css';\r\nimport {Route, Switch, withRouter} from \"react-router-dom\";\r\nimport TestCreator from './components/TestCreator/TestCreator';\r\nimport TestEditor from './components/TestCreator/TestEditor';\r\nimport TestPassPanel from './components/TestPassPanel/TestPassPanel';\r\nimport AboutUs from './components/AboutUs/AboutUs';\r\nimport Authorization from \"./components/Autorization/Authorization\";\r\nimport AutorizationUser from \"./components/Autorization/AutorizationUser\";\r\nimport AutorizationCompany from \"./components/Autorization/AutorizationCompany\";\r\nimport Company from \"./containers/Pages/Company\";\r\nimport CompaniesInUser from \"./containers/Pages/CompaniesInUser\";\r\nimport UsersInCompany from \"./containers/Pages/UsersInCompany\";\r\nimport AllTests from \"./containers/Pages/AllTests\";\r\nimport AllCompanies from \"./containers/Pages/AllCompanies\";\r\nimport AllUsers from \"./containers/Pages/AllUsers\";\r\nimport User from \"./containers/Pages/User\";\r\nimport NoMatch from \"./components/NoMatch\";\r\nimport HomePage from \"./components/HomePage/HomePage\";\r\nimport {connect} from 'react-redux';\r\nimport {getCompanies, getTests, getUsers} from './store/thunks/thunks';\r\nimport * as firebase from \"firebase\";\r\nimport Layout from \"./Hoc/Layout\";\r\nimport PopUpLogin from './components/PopUps/PopUpLogin';\r\nimport PopUpDelete from './components/PopUps/PopUpDelete';\r\nimport { userLogin } from './store/actions/appAction';\r\nimport PopUpTestAdded from './components/PopUps/PopUpTestAdded';\r\n\r\nclass App extends Component {\r\n\r\n\r\n    state = {\r\n        currentLog: null,\r\n        testsLoaded: this.props.testsLoaded,\r\n        companiesLoaded: this.props.companiesLoaded,\r\n        testAddClicked: false,\r\n        testDeletedClicked: false,\r\n        userTestAdded: false,\r\n        userTestExists: false,\r\n        user: null\r\n    };\r\n\r\n    componentDidMount() {\r\n\r\n        firebase.auth().onAuthStateChanged((currentLog) => {\r\n            if (currentLog) {\r\n                this.setState({currentLog});\r\n\r\n                if(localStorage.getItem(\"current\") === \"company\") {\r\n                    this.props.userLogin('company');\r\n                    \r\n                    firebase.database().ref(`companies/${currentLog.uid}`).once('value',(snapshot)=>{\r\n                        this.setState({currentLog, user: {...snapshot.val()} })\r\n                    })\r\n                }\r\n                if(localStorage.getItem(\"current\") === \"user\") {\r\n                    this.props.userLogin('user');\r\n                    firebase.database().ref(`user/${currentLog.uid}`).once('value',(snapshot)=>{\r\n                        this.setState({currentLog, user: {...snapshot.val()} })\r\n                    })\r\n                }\r\n\r\n                console.log(`log in `);\r\n            } else {\r\n                console.log('log out');\r\n                localStorage.removeItem(\"current\")\r\n                this.setState({currentLog: null, user: null})\r\n            }\r\n        });\r\n        this.props.getCompanies();\r\n        this.props.getTests();\r\n        this.props.getUsers();\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n        if (this.props.testsLoaded === true && this.props.testsLoaded !== prevProps.testsLoaded) {\r\n\r\n            this.setState({testsLoaded: this.props.testsLoaded})\r\n        }\r\n        if (this.props.companiesLoaded === true && this.props.companiesLoaded !== prevProps.companiesLoaded) {\r\n\r\n            this.setState({companiesLoaded: this.props.companiesLoaded})\r\n        }\r\n    }\r\n\r\n    testAddClicked = () => {\r\n        this.setState({testAddClicked: !this.state.testAddClicked});\r\n    };\r\n\r\n    testDeletedClicked = () => {\r\n        this.setState({testDeletedClicked: !this.state.testDeletedClicked});\r\n    }\r\n    userTestAdded = () => {\r\n        this.setState({userTestAdded: !this.state.userTestAdded});\r\n    }\r\n    userTestExists = () => {\r\n        this.setState({userTestExists: !this.state.userTestExists});\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        //this.setState({testAddClicked: false});\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n\r\n                {this.state.testAddClicked && <PopUpLogin testAddClicked={this.testAddClicked}/>} \r\n                {this.state.testDeletedClicked && <PopUpDelete testDeletedClicked={this.testDeletedClicked}/>} \r\n                {this.state.userTestAdded && \r\n                    <PopUpTestAdded  exists={false}  userTestAdded={this.userTestAdded} user={this.state.user}>\r\n                        added to tests in your propfile\r\n                    </PopUpTestAdded>\r\n                }\r\n                {this.state.userTestExists && \r\n                    <PopUpTestAdded  exists={true}  userTestExists={this.userTestExists} user={this.state.user}>\r\n                        has already been added to your tests\r\n                    </PopUpTestAdded>\r\n                }\r\n\r\n                <Layout currentLog={this.state.currentLog} user={this.state.user}>\r\n                    <Switch className=\"App\">\r\n                        <Route exact path={'/'} component={() => <HomePage testAddClicked={this.testAddClicked}/>}/>\r\n                        <Route path='/registration/user' component={AutorizationUser}/>\r\n                        <Route path='/registration/company' component={AutorizationCompany}/>\r\n                        <Route path=\"/Users/\" component={AllUsers}/>\r\n                        <Route path=\"/companies/\" component={AllCompanies}/>\r\n                        <Route path=\"/CompaniesInUser/\" component={CompaniesInUser}/>\r\n                        <Route path=\"/UsersInCompany/\" component={UsersInCompany}/>\r\n\r\n                        <Route path=\"/User/:Text\" component={User}/>\r\n\r\n                        <Route path=\"/:company/add-test\" component={() => <TestCreator user={this.state.user} />}/>\r\n                        <Route path=\"/:company/edit-test\" component={() => \r\n                            <TestEditor editingTest={this.props.editingTest} user={this.state.user} />}\r\n                        />\r\n                        {localStorage.getItem(\"current\") === \"user\" \r\n                            ? <Route path=\"/:user/:text\" component={() => <User currentCompany={this.state.currentLog} user={this.state.user} />}/> \r\n                            : <Route path=\"/:company/:text\" component={() =>  \r\n                                <Company \r\n                                    currentCompany={this.state.currentLog} \r\n                                    user={this.state.user} \r\n                                    testDeletedClicked={this.testDeletedClicked} />}/>\r\n                        }\r\n                        <Route\r\n                            path='/authorization/'\r\n                            component={() => <Authorization currentCompany={this.state.currentLog}\r\n                                                            user={this.state.user}/>}\r\n                        />\r\n                        <Route path=\"/aboutUs/\" component={AboutUs}/>\r\n                        <Route path=\"/testPassPanel/\" component={TestPassPanel}/>\r\n                        <Route path=\"/tests/\" component={() => \r\n                            <AllTests \r\n                                testAddClicked={this.testAddClicked}\r\n                                userTestAdded={this.userTestAdded}\r\n                                userTestExists={this.userTestExists}\r\n                                currentUser={this.state.currentLog} \r\n                                user={this.state.user}\r\n                            />}/>\r\n                        <Route component={NoMatch}/>\r\n                    </Switch>\r\n                </Layout>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        testsLoaded: state.appReducer.testsLoaded,\r\n        companiesLoaded: state.appReducer.companiesLoaded,\r\n        editingTest: state.appReducer.editingTest,\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        getCompanies: companies => dispatch(getCompanies(companies)),\r\n        getTests: tests => dispatch(getTests(tests)),\r\n        getUsers: users => dispatch(getUsers(users)),\r\n        userLogin: userType => dispatch(userLogin(userType))\r\n\r\n    };\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(App));\r\n"]},"metadata":{},"sourceType":"module"}