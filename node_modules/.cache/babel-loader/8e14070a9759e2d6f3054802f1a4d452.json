{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\Gohar\\\\Desktop\\\\testing-project\\\\testing-project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"C:\\\\Users\\\\Gohar\\\\Desktop\\\\testing-project\\\\testing-project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"C:\\\\Users\\\\Gohar\\\\Desktop\\\\testing-project\\\\testing-project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Gohar\\\\Desktop\\\\testing-project\\\\testing-project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Gohar\\\\Desktop\\\\testing-project\\\\testing-project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Gohar\\\\Desktop\\\\testing-project\\\\testing-project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Gohar\\\\Desktop\\\\testing-project\\\\testing-project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _taggedTemplateLiteral from \"C:\\\\Users\\\\Gohar\\\\Desktop\\\\testing-project\\\\testing-project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"C:\\\\Users\\\\Gohar\\\\Desktop\\\\testing-project\\\\testing-project\\\\src\\\\containers\\\\Pages\\\\CompanyInfoPage\\\\CompanyTests.js\";\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n    background-color: transparent;\\n    border: 1px solid \", \";\\n\\tcolor:  \", \";\\n\\tbackground-color: \", \";\\n    : hover {\\n        cursor: \", \";\\n        background-color: \", \";\\n        color: white;\\n    }\\n    \"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n\\tpadding-top: 100px;\\n\\tfont-size: 28px;\\n\\tcolor: #141218;\\n\\tbox-sizing: border-box;\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n\\tmargin: auto;\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { Component } from 'react';\nimport Searching from '../Searching';\nimport Pagination from '../Pagination';\nimport { connect } from 'react-redux';\nimport styled from 'styled-components';\nimport Loader from '../../../components/Loader';\nimport firebase from 'firebase';\nimport { addUserTest as _addUserTest } from '../../../store/actions/appAction';\nimport { NavLink } from \"react-router-dom\";\nvar LoaderDiv = styled.div(_templateObject());\nvar NoTests = styled.div(_templateObject2());\nvar Button = styled.button(_templateObject3(), function (props) {\n  return props.border || 'rgba(255, 89, 89, 1)';\n}, function (props) {\n  return props.color || 'rgba(255, 89, 89, 1)';\n}, function (props) {\n  return props.disabled && 'rgba(79, 157, 166, 1)';\n}, function (props) {\n  return props.disabled ? '' : 'pointer';\n}, function (props) {\n  return props.bgColor || 'rgba(255, 89, 89, 1)';\n});\n\nvar CompanyTests =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(CompanyTests, _Component);\n\n  function CompanyTests(props) {\n    var _this;\n\n    _classCallCheck(this, CompanyTests);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(CompanyTests).call(this, props));\n\n    _this.deadline = function (date) {\n      var today = new Date(date);\n      var dd = today.getDate();\n      var mm = today.getMonth() + 1;\n      var yyyy = today.getFullYear();\n\n      if (dd < 10) {\n        dd = '0' + dd;\n      }\n\n      if (mm < 10) {\n        mm = '0' + mm;\n      }\n\n      return today = dd + '/' + mm + '/' + yyyy;\n    };\n\n    _this.compareDates = function (stringDate) {\n      return Date.parse(stringDate) >= Date.now();\n    };\n\n    _this.add = function (test) {\n      if (_this.props.user && _this.props.user.type === 'user') {\n        var userUrl = _this.props.user.id;\n        firebase.database().ref(\"user/\".concat(_this.props.user.id, \"/tests\")).once('value', function (snapshot) {\n          if (snapshot.hasChild(\"\".concat(test.id))) {} else {\n            _this.props.userTestAdded();\n\n            _this.props.addUserTest(test);\n\n            var userRef = firebase.database().ref(\"user/\".concat(userUrl));\n            userRef.child('tests').child(\"\".concat(test.id)).set(_objectSpread({}, test, {\n              userScore: -1\n            }));\n          }\n        });\n      } else {\n        _this.props.testAddClicked();\n      }\n    };\n\n    _this.checkIfAdded = function (test) {\n      if (_this.props.user && _this.props.user.tests) {\n        for (var i = 0; i < _this.props.user.tests.length; i++) {\n          if (test.id === _this.props.user.tests[i].id) {\n            if (_this.props.user.tests[i].userScore < 0 && !_this.props.user.tests[i].currentTime) {\n              return 'added';\n            } else if (_this.props.user.tests[i].currentTime) {\n              return 'continue';\n            } else {\n              return 'passed';\n            }\n          }\n        }\n\n        return false;\n      }\n    };\n\n    _this.state = {\n      data: _this.props.tests,\n      company: _this.props.item,\n      search: \"\",\n      type: \"\",\n      currentPage: 1,\n      dataPerPage: 4,\n      loadMore: 0,\n      sortType: \"\",\n      orderAscanding: true,\n      added: false\n    };\n    return _this;\n  }\n\n  _createClass(CompanyTests, [{\n    key: \"searching\",\n    value: function searching(e, searchProp) {\n      var _this$setState;\n\n      this.setState((_this$setState = {}, _defineProperty(_this$setState, searchProp, e.target.value), _defineProperty(_this$setState, \"currentPage\", 1), _this$setState));\n    }\n  }, {\n    key: \"sorting\",\n    value: function sorting(sortType) {\n      this.setState({\n        orderAscanding: this.state.sortType !== sortType ? true : !this.state.orderAscanding,\n        sortType: sortType\n      });\n    }\n  }, {\n    key: \"pageClick\",\n    value: function pageClick(e) {\n      this.setState({\n        currentPage: Number(e.target.id),\n        loadMore: 0\n      });\n    }\n  }, {\n    key: \"loadMore\",\n    value: function loadMore(e) {\n      this.setState({\n        loadMore: this.state.loadMore + 1\n      });\n    }\n  }, {\n    key: \"prev\",\n    value: function prev() {\n      this.setState({\n        currentPage: this.state.currentPage + this.state.loadMore - 1,\n        loadMore: 0\n      });\n    }\n  }, {\n    key: \"next\",\n    value: function next() {\n      this.setState({\n        currentPage: this.state.currentPage + this.state.loadMore + 1,\n        loadMore: 0\n      });\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      if (this.props.testsLoaded !== prevProps.testsLoaded) {\n        this.setState({\n          data: this.props.tests\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var tests;\n      var passedTests = [];\n      var otherTests = [];\n      var fillteredTests = [];\n\n      if (this.state.data) {\n        tests = this.state.data.filter(function (test) {\n          return test.companyId === _this2.state.company.id && !test.deleted;\n        });\n\n        if (this.props.user && this.props.user.type === 'user') {\n          forOfTets: for (var i = 0; i < tests.length; i++) {\n            for (var j = 0; j < this.props.user.tests.length; j++) {\n              if (this.props.user.tests[j].id === tests[i].id && this.props.user.tests[j].userScore >= 0) {\n                passedTests.push(tests[i]);\n                continue forOfTets;\n              }\n            }\n\n            otherTests.push(tests[i]);\n          }\n\n          tests = otherTests.concat(passedTests);\n        }\n\n        fillteredTests = tests.filter(function (item) {\n          return _this2.compareDates(item.testDeadline);\n        });\n      }\n\n      var selectSearchData = ['HTML', 'CSS', 'JavaScript', 'Java', 'Python', 'C#', 'Ruby', 'Swift', 'React', 'Redux', 'C++', 'PHP', 'MySQL'];\n      var _this$state = this.state,\n          search = _this$state.search,\n          type = _this$state.type,\n          currentPage = _this$state.currentPage,\n          dataPerPage = _this$state.dataPerPage,\n          loadMore = _this$state.loadMore,\n          sortType = _this$state.sortType,\n          orderAscanding = _this$state.orderAscanding;\n      var filterData = tests.filter(function (item) {\n        return item.testTitle.toLowerCase().substr(0, search.length) === search.toLowerCase();\n      });\n\n      if (type !== \"\") {\n        filterData = filterData.filter(function (item) {\n          return item.testType === type;\n        });\n      }\n\n      filterData.sort(function (a, b) {\n        var nameA = a[sortType].toUpperCase();\n        var nameB = b[sortType].toUpperCase();\n\n        if (orderAscanding) {\n          if (nameA < nameB) {\n            return -1;\n          }\n\n          if (nameA > nameB) {\n            return 1;\n          }\n        } else {\n          if (nameA < nameB) {\n            return 1;\n          }\n\n          if (nameA > nameB) {\n            return -1;\n          }\n        }\n\n        return 0;\n      });\n      var indexOfLastData = currentPage * dataPerPage;\n      var indexOfFirstData = indexOfLastData - dataPerPage;\n      var currentData = filterData.slice(indexOfFirstData, indexOfLastData + loadMore * dataPerPage);\n      var pages = [];\n\n      for (var _i = 1; _i <= Math.ceil(filterData.length / dataPerPage); _i++) {\n        pages.push(_i);\n      }\n\n      return tests.length ? React.createElement(\"div\", {\n        className: \"container-table\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212\n        },\n        __self: this\n      }, React.createElement(Searching, Object.assign({}, this.state, {\n        data: tests,\n        searching: this.searching.bind(this),\n        currentDataLength: currentData.length,\n        selectSearchData: selectSearchData,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213\n        },\n        __self: this\n      })), tests ? filterData.length ? React.createElement(React.Fragment, null, React.createElement(\"table\", {\n        className: \"dataTable\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223\n        },\n        __self: this\n      }, React.createElement(\"thead\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        onClick: this.sorting.bind(this, \"testTitle\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226\n        },\n        __self: this\n      }, sortType === \"testTitle\" && orderAscanding && React.createElement(\"span\", {\n        className: \"sortArrowBottom\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228\n        },\n        __self: this\n      }), sortType === \"testTitle\" && !orderAscanding && React.createElement(\"span\", {\n        className: \"sortArrowTop\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 230\n        },\n        __self: this\n      }), \"Title\"), React.createElement(\"th\", {\n        onClick: this.sorting.bind(this, \"testType\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233\n        },\n        __self: this\n      }, sortType === \"testType\" && orderAscanding && React.createElement(\"span\", {\n        className: \"sortArrowBottom\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235\n        },\n        __self: this\n      }), sortType === \"testType\" && !orderAscanding && React.createElement(\"span\", {\n        className: \"sortArrowTop\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 237\n        },\n        __self: this\n      }), \"Type\"), React.createElement(\"th\", {\n        onClick: this.sorting.bind(this, \"company\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 240\n        },\n        __self: this\n      }, sortType === \"company\" && orderAscanding && React.createElement(\"span\", {\n        className: \"sortArrowBottom\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 242\n        },\n        __self: this\n      }), sortType === \"company\" && !orderAscanding && React.createElement(\"span\", {\n        className: \"sortArrowTop\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244\n        },\n        __self: this\n      }), \"Company\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 247\n        },\n        __self: this\n      }, \" \", this.props.user && this.props.user.type !== 'company' || !this.props.user ? 'Enroll' : 'Passers'))), React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 253\n        },\n        __self: this\n      }, currentData.map(function (item) {\n        return React.createElement(\"tr\", {\n          key: item.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 257\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 258\n          },\n          __self: this\n        }, item.testTitle), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 259\n          },\n          __self: this\n        }, item.testType), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 260\n          },\n          __self: this\n        }, _this2.deadline(item.testDeadline)), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 261\n          },\n          __self: this\n        }, _this2.props.user && _this2.props.user.type !== 'company' || !_this2.props.user ? React.createElement(React.Fragment, null, !_this2.checkIfAdded(item) && React.createElement(Button, {\n          onClick: function onClick() {\n            return _this2.add(item);\n          },\n          disabled: _this2.checkIfAdded(item.id),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 268\n          },\n          __self: this\n        }, \"Add\"), _this2.checkIfAdded(item) === 'passed' && React.createElement(NavLink, {\n          to: \"/test-info-page/\".concat(item.id),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 277\n          },\n          __self: this\n        }, React.createElement(Button, {\n          color: 'white',\n          bgColor: 'rgba(79, 157, 166, 1)',\n          border: 'rgba(79, 157, 166, 1)',\n          disabled: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 278\n          },\n          __self: this\n        }, \"Passed\")), _this2.checkIfAdded(item) === 'continue' && React.createElement(NavLink, {\n          to: \"/test-info-page/\".concat(item.id),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 289\n          },\n          __self: this\n        }, React.createElement(Button, {\n          color: 'rgba(255, 173, 90, 1)',\n          bgColor: 'rgba(255, 173, 90, 1)',\n          border: 'rgba(255, 173, 90, 1)',\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 290\n          },\n          __self: this\n        }, \"Continue\")), _this2.checkIfAdded(item) === 'added' && React.createElement(NavLink, {\n          to: \"/test-info-page/\".concat(item.id),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 300\n          },\n          __self: this\n        }, React.createElement(Button, {\n          color: 'rgba(255, 173, 90, 1)',\n          bgColor: 'rgba(255, 173, 90, 1)',\n          border: 'rgba(255, 173, 90, 1)',\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 301\n          },\n          __self: this\n        }, \"Start\"))) : item.passers ? item.passers.length : '__'));\n      }))), React.createElement(Pagination, {\n        load_More: loadMore,\n        loadMore: this.loadMore.bind(this),\n        currentPage: currentPage,\n        prev: this.prev.bind(this),\n        pageClick: this.pageClick.bind(this),\n        next: this.next.bind(this),\n        pages: pages,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 321\n        },\n        __self: this\n      })) : React.createElement(NoTests, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 331\n        },\n        __self: this\n      }, \"Sorry, nothing was found!\") : React.createElement(LoaderDiv, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 333\n        },\n        __self: this\n      }, React.createElement(Loader, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 333\n        },\n        __self: this\n      }))) : React.createElement(NoTests, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 338\n        },\n        __self: this\n      }, \" There is no tests yet. \");\n    }\n  }]);\n\n  return CompanyTests;\n}(Component);\n\nfunction mapStateToProps(state) {\n  return {\n    tests: state.appReducer.tests,\n    testsLoaded: state.appReducer.testsLoaded\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    addUserTest: function addUserTest(test) {\n      return dispatch(_addUserTest(test));\n    }\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CompanyTests);","map":{"version":3,"sources":["C:\\Users\\Gohar\\Desktop\\testing-project\\testing-project\\src\\containers\\Pages\\CompanyInfoPage\\CompanyTests.js"],"names":["React","Component","Searching","Pagination","connect","styled","Loader","firebase","addUserTest","NavLink","LoaderDiv","div","NoTests","Button","button","props","border","color","disabled","bgColor","CompanyTests","deadline","date","today","Date","dd","getDate","mm","getMonth","yyyy","getFullYear","compareDates","stringDate","parse","now","add","test","user","type","userUrl","id","database","ref","once","snapshot","hasChild","userTestAdded","userRef","child","set","userScore","testAddClicked","checkIfAdded","tests","i","length","currentTime","state","data","company","item","search","currentPage","dataPerPage","loadMore","sortType","orderAscanding","added","e","searchProp","setState","target","value","Number","prevProps","testsLoaded","passedTests","otherTests","fillteredTests","filter","companyId","deleted","forOfTets","j","push","concat","testDeadline","selectSearchData","filterData","testTitle","toLowerCase","substr","testType","sort","a","b","nameA","toUpperCase","nameB","indexOfLastData","indexOfFirstData","currentData","slice","pages","Math","ceil","searching","bind","sorting","map","passers","prev","pageClick","next","mapStateToProps","appReducer","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport Searching from '../Searching';\r\nimport Pagination from '../Pagination';\r\nimport { connect } from 'react-redux';\r\nimport styled from 'styled-components';\r\nimport Loader from '../../../components/Loader';\r\nimport firebase from 'firebase';\r\nimport { addUserTest } from '../../../store/actions/appAction';\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nconst LoaderDiv = styled.div`\r\n\tmargin: auto;\r\n`;\r\n\r\nconst NoTests = styled.div`\r\n\tpadding-top: 100px;\r\n\tfont-size: 28px;\r\n\tcolor: #141218;\r\n\tbox-sizing: border-box;\r\n`;\r\n\r\nconst Button = styled.button`\r\n    background-color: transparent;\r\n    border: 1px solid ${props => props.border || 'rgba(255, 89, 89, 1)'};\r\n\tcolor:  ${props => props.color || 'rgba(255, 89, 89, 1)'};\r\n\tbackground-color: ${props => props.disabled && 'rgba(79, 157, 166, 1)'};\r\n    : hover {\r\n        cursor: ${props => props.disabled ? '' : 'pointer'};\r\n        background-color: ${props => props.bgColor || 'rgba(255, 89, 89, 1)'};\r\n        color: white;\r\n    }\r\n    `;\r\n\r\nclass CompanyTests extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tdata: this.props.tests,\r\n\t\t\tcompany: this.props.item,\r\n\t\t\tsearch: \"\",\r\n\t\t\ttype: \"\",\r\n\t\t\tcurrentPage: 1,\r\n\t\t\tdataPerPage: 4,\r\n\t\t\tloadMore: 0,\r\n\t\t\tsortType: \"\",\r\n\t\t\torderAscanding: true,\r\n\t\t\tadded: false,\r\n\t\t}\r\n\t}\r\n\tsearching(e, searchProp) {\r\n\t\tthis.setState({\r\n\t\t\t[searchProp]: e.target.value,\r\n\t\t\tcurrentPage: 1\r\n\t\t})\r\n\t}\r\n\r\n\tsorting(sortType) {\r\n\t\tthis.setState({\r\n\t\t\torderAscanding: this.state.sortType !== sortType ? true : !this.state.orderAscanding,\r\n\t\t\tsortType,\r\n\t\t})\r\n\t}\r\n\r\n\tpageClick(e) {\r\n\t\tthis.setState({\r\n\t\t\tcurrentPage: Number(e.target.id),\r\n\t\t\tloadMore: 0\r\n\t\t})\r\n\t}\r\n\r\n\tloadMore(e) {\r\n\t\tthis.setState({ loadMore: this.state.loadMore + 1 })\r\n\t}\r\n\r\n\tprev() {\r\n\t\tthis.setState({\r\n\t\t\tcurrentPage: this.state.currentPage + this.state.loadMore - 1,\r\n\t\t\tloadMore: 0\r\n\t\t})\r\n\t}\r\n\r\n\tnext() {\r\n\t\tthis.setState({\r\n\t\t\tcurrentPage: this.state.currentPage + this.state.loadMore + 1,\r\n\t\t\tloadMore: 0\r\n\t\t})\r\n\t}\r\n\r\n\tdeadline = (date) => {\r\n\t\tlet today = new Date(date);\r\n\t\tlet dd = today.getDate();\r\n\t\tlet mm = today.getMonth() + 1;\r\n\t\tlet yyyy = today.getFullYear();\r\n\r\n\t\tif (dd < 10) {\r\n\t\t\tdd = '0' + dd\r\n\t\t}\r\n\r\n\t\tif (mm < 10) {\r\n\t\t\tmm = '0' + mm\r\n\t\t}\r\n\t\treturn today = dd + '/' + mm + '/' + yyyy;\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps) {\r\n\t\tif (this.props.testsLoaded !== prevProps.testsLoaded) {\r\n\t\t\tthis.setState({ data: this.props.tests });\r\n\t\t}\r\n\t}\r\n\tcompareDates = (stringDate) => {\r\n\t\treturn Date.parse(stringDate) >= Date.now();\r\n\t}\r\n\tadd = (test) => {\r\n\t\tif (this.props.user && this.props.user.type === 'user') {\r\n\t\t\tlet userUrl = this.props.user.id;\r\n\t\t\tfirebase.database().ref(`user/${this.props.user.id}/tests`).once('value', (snapshot) => {\r\n\t\t\t\tif (snapshot.hasChild(`${test.id}`)) {\r\n\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.props.userTestAdded();\r\n\t\t\t\t\tthis.props.addUserTest(test);\r\n\t\t\t\t\tlet userRef = firebase.database().ref(`user/${userUrl}`);\r\n\t\t\t\t\tuserRef.child('tests').child(`${test.id}`).set({ ...test, userScore: -1 });\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tthis.props.testAddClicked();\r\n\t\t}\r\n\t}\r\n\tcheckIfAdded = (test) => {\r\n\t\tif (this.props.user && this.props.user.tests) {\r\n\t\t\tfor (let i = 0; i < this.props.user.tests.length; i++) {\r\n\t\t\t\tif (test.id === this.props.user.tests[i].id) {\r\n\t\t\t\t\tif (this.props.user.tests[i].userScore < 0 && !this.props.user.tests[i].currentTime) {\r\n\t\t\t\t\t\treturn 'added';\r\n\t\t\t\t\t} else if (this.props.user.tests[i].currentTime) {\r\n\t\t\t\t\t\treturn 'continue';\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn 'passed';\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\trender() {\r\n\t\tlet tests;\r\n\t\tlet passedTests = [];\r\n\t\tlet otherTests = [];\r\n\t\tlet fillteredTests = [];\r\n\t\tif (this.state.data) {\r\n\t\t\ttests = this.state.data.filter(test => test.companyId === this.state.company.id && !test.deleted);\r\n\t\t\tif (this.props.user && this.props.user.type === 'user') {\r\n\t\t\t\tforOfTets: for (let i = 0; i < tests.length; i++) {\r\n\t\t\t\t\tfor (let j = 0; j < this.props.user.tests.length; j++) {\r\n\t\t\t\t\t\tif (this.props.user.tests[j].id === tests[i].id && this.props.user.tests[j].userScore >= 0) {\r\n\t\t\t\t\t\t\tpassedTests.push(tests[i]);\r\n\t\t\t\t\t\t\tcontinue forOfTets;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\totherTests.push(tests[i]);\r\n\r\n\t\t\t\t}\r\n\t\t\t\ttests = otherTests.concat(passedTests);\r\n\t\t\t}\r\n\r\n\t\t\tfillteredTests = tests.filter(item => this.compareDates(item.testDeadline));\r\n\t\t}\r\n\t\tconst selectSearchData = ['HTML', 'CSS', 'JavaScript', 'Java', 'Python', 'C#', 'Ruby', 'Swift', 'React', 'Redux', 'C++', 'PHP', 'MySQL'];\r\n\t\tconst { search, type, currentPage, dataPerPage, loadMore, sortType, orderAscanding } = this.state;\r\n\t\tlet filterData = tests.filter(item => {\r\n\t\t\treturn item.testTitle.toLowerCase().substr(0, search.length) === search.toLowerCase()\r\n\t\t})\r\n\r\n\t\tif (type !== \"\") {\r\n\t\t\tfilterData = filterData.filter(item => item.testType === type)\r\n\t\t}\r\n\r\n\t\tfilterData.sort((a, b) => {\r\n\t\t\tlet nameA = a[sortType].toUpperCase();\r\n\t\t\tlet nameB = b[sortType].toUpperCase();\r\n\t\t\tif (orderAscanding) {\r\n\t\t\t\tif (nameA < nameB) {\r\n\t\t\t\t\treturn -1;\r\n\t\t\t\t}\r\n\t\t\t\tif (nameA > nameB) {\r\n\t\t\t\t\treturn 1;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (nameA < nameB) {\r\n\t\t\t\t\treturn 1;\r\n\t\t\t\t}\r\n\t\t\t\tif (nameA > nameB) {\r\n\t\t\t\t\treturn -1;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn 0;\r\n\t\t});\r\n\r\n\t\tconst indexOfLastData = currentPage * dataPerPage;\r\n\t\tconst indexOfFirstData = indexOfLastData - dataPerPage;\r\n\t\tconst currentData = filterData.slice(indexOfFirstData, indexOfLastData + loadMore * dataPerPage);\r\n\r\n\t\tconst pages = [];\r\n\t\tfor (let i = 1; i <= Math.ceil(filterData.length / dataPerPage); i++) {\r\n\t\t\tpages.push(i);\r\n\t\t}\r\n\t\treturn (\r\n\t\t\ttests.length ?\r\n\t\t\t\t<div className=\"container-table\">\r\n\t\t\t\t\t<Searching\r\n\t\t\t\t\t\t{...this.state}\r\n\t\t\t\t\t\tdata={tests}\r\n\t\t\t\t\t\tsearching={this.searching.bind(this)}\r\n\t\t\t\t\t\tcurrentDataLength={currentData.length}\r\n\t\t\t\t\t\tselectSearchData={selectSearchData}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{tests ?\r\n\t\t\t\t\t\tfilterData.length ?\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t<table className=\"dataTable\">\r\n\t\t\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t\t<th onClick={this.sorting.bind(this, \"testTitle\")}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{sortType === \"testTitle\" && orderAscanding &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"sortArrowBottom\"></span>}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{sortType === \"testTitle\" && !orderAscanding &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"sortArrowTop\"></span>}\r\n\t\t\t\t\t\t\t\t\t\t\t\tTitle\r\n\t\t\t\t\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th onClick={this.sorting.bind(this, \"testType\")}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{sortType === \"testType\" && orderAscanding &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"sortArrowBottom\"></span>}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{sortType === \"testType\" && !orderAscanding &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"sortArrowTop\"></span>}\r\n\t\t\t\t\t\t\t\t\t\t\t\tType\r\n\t\t\t\t\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th onClick={this.sorting.bind(this, \"company\")}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{sortType === \"company\" && orderAscanding &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"sortArrowBottom\"></span>}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{sortType === \"company\" && !orderAscanding &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"sortArrowTop\"></span>}\r\n\t\t\t\t\t\t\t\t\t\t\t\tCompany\r\n\t\t\t\t\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th>\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t(this.props.user && this.props.user.type !== 'company') || !this.props.user ? 'Enroll' : 'Passers'\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t\t<tbody>\r\n\r\n\t\t\t\t\t\t\t\t\t\t{currentData.map(item => {\r\n\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<tr key={item.id} >\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>{item.testTitle}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>{item.testType}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>{this.deadline(item.testDeadline)}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(this.props.user && this.props.user.type !== 'company') || !this.props.user\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{!this.checkIfAdded(item) &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.add(item)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={this.checkIfAdded(item.id)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tAdd\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.checkIfAdded(item) === 'passed' &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<NavLink to={`/test-info-page/${item.id}`}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor={'white'}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbgColor={'rgba(79, 157, 166, 1)'}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tborder={'rgba(79, 157, 166, 1)'}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tPassed\r\n                                                                        </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{this.checkIfAdded(item) === 'continue' &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<NavLink to={`/test-info-page/${item.id}`}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor={'rgba(255, 173, 90, 1)'}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbgColor={'rgba(255, 173, 90, 1)'}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tborder={'rgba(255, 173, 90, 1)'}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tContinue\r\n                                                                        </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{this.checkIfAdded(item) === 'added' &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<NavLink to={`/test-info-page/${item.id}`}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor={'rgba(255, 173, 90, 1)'}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbgColor={'rgba(255, 173, 90, 1)'}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tborder={'rgba(255, 173, 90, 1)'}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tStart\r\n                                                                        </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: item.passers ? item.passers.length : '__'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t</tbody>\r\n\r\n\t\t\t\t\t\t\t\t</table>\r\n\t\t\t\t\t\t\t\t<Pagination\r\n\t\t\t\t\t\t\t\t\tload_More={loadMore}\r\n\t\t\t\t\t\t\t\t\tloadMore={this.loadMore.bind(this)}\r\n\t\t\t\t\t\t\t\t\tcurrentPage={currentPage}\r\n\t\t\t\t\t\t\t\t\tprev={this.prev.bind(this)}\r\n\t\t\t\t\t\t\t\t\tpageClick={this.pageClick.bind(this)}\r\n\t\t\t\t\t\t\t\t\tnext={this.next.bind(this)}\r\n\t\t\t\t\t\t\t\t\tpages={pages}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t: <NoTests>Sorry, nothing was found!</NoTests>\r\n\r\n\t\t\t\t\t\t: <LoaderDiv><Loader /></LoaderDiv>\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t</div>\r\n\t\t\t\t: <NoTests> There is no tests yet. </NoTests>\r\n\r\n\t\t);\r\n\t}\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t\ttests: state.appReducer.tests,\r\n\t\ttestsLoaded: state.appReducer.testsLoaded,\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\taddUserTest: test => dispatch(addUserTest(test)),\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CompanyTests)"]},"metadata":{},"sourceType":"module"}